>> # A Simple Air Separation Unit Example
>> # Similar to example found on ChemSep website
>> # Converges quickly, but a good estimate of the tear is required since it's a coupled column
>> 
>> units SI
>> 
>> # set up thermo
>> $thermo = Sim21Thermo.Peng-Robinson
pkgName: Peng-Robinson
>> 
>> / -> $thermo
Thermo case attached to a unit operation. / to /thermo
>> thermo + NITROGEN OXYGEN ARGON
NITROGEN OXYGEN ARGON 
>> 
>> air_feed = Stream.Stream_Material()
>> air_feed.In.T = 30 C
>> air_feed.In.P = 1.01315 bar
>> air_feed.In.MassFlow = 100 kg/s
>> air_feed.In.Fraction = 0.7812 0.2095 0.0093
>> air_feed.Out
Port: /air_feed.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 1.0 = 
T                  = 30.0 = C
P                  = 101.315 = kPa
MoleFlow           = 12431.225540087611 = kgmole/h
MassFlow           = 360000.00100800005 = kg/h
VolumeFlow         = 309109.63421536953 = m3/hr
StdLiqVolumeFlow   = 414.23594529783946 = m3/hr
H                  = 137.58325688354483 = kJ/kmol
Energy             = 475091.24912754365 = W
MolecularWeight    = 28.959333080000004 = 
ZFactor            = 0.9994949091003293 = 
NITROGEN           = 0.7812 = 
OXYGEN             = 0.2095 = 
ARGON              = 0.0093 = 

>> 
>> comp1 = Compressor.Compressor()
>> air_feed.Out -> comp1.In
>> comp1.Out.P = 1.98 bar
>> comp1.Efficiency = .8
>> 
>> h1 = Heater.Heater()
>> comp1.Out -> h1.In
>> h1.DeltaP.DP = 0.2 bar
>> h1.Out.T = 40 C
>> 
>> comp2 = Compressor.Compressor()
>> h1.Out -> comp2.In
>> comp2.Out.P = 3.46 bar
>> comp2.Efficiency = .8
>> 
>> h2 = Heater.Heater()
>> comp2.Out -> h2.In
>> h2.DeltaP.DP = 0.2 bar
>> h2.Out.T = 40 C
>> 
>> comp3 = Compressor.Compressor()
>> h2.Out -> comp3.In
>> comp3.Out.P = 6.35 bar
>> comp3.Efficiency = .8
>> 
>> h3 = Heater.Heater()
>> comp3.Out -> h3.In
>> h3.DeltaP.DP = 0.2 bar
>> h3.Out.T = 30 C
>> 
>> spl1 = Split.Splitter()
>> h3.Out -> spl1.In
>> spl1.Out0.MassFlow = 85.0 kg/s
>> spl1.Out1
Port: /spl1.Out1 + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 1.0 = 
T                  = 30.0 = C
P                  = 615.0 = kPa
MoleFlow           = 1864.683831013143 = kgmole/h
MassFlow           = 54000.000151200045 = kg/h
VolumeFlow         = 7619.599029985562 = m3/hr
StdLiqVolumeFlow   = 62.13539179467596 = m3/hr
H                  = 97.86915003359175 = kJ/kmol
Energy             = 50693.06156184387 = W
MolecularWeight    = 28.959333080000004 = 
ZFactor            = 0.9970346944246617 = 
NITROGEN           = 0.7812 = 
OXYGEN             = 0.2095 = 
ARGON              = 0.0093 = 

>> 
>> h4 = Heater.Heater()
>> spl1.Out0 -> h4.In
>> h4.DeltaP.DP = 0.4 bar
>> h4.Out.T = -173.8 C
>> 
>> h5 = Heater.Heater()
>> spl1.Out1 -> h5.In
>> h5.DeltaP.DP = 0.2 bar
>> h5.Out.T = -133.2 C
>> 
>> h4.Out
Port: /h4.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.8612842563384792 = 
T                  = -173.8 * C
P                  = 575.0 = kPa
MoleFlow           = 10566.541709074467 = kgmole/h
MassFlow           = 306000.0008568 = kg/h
VolumeFlow         = 11338.79243992706 = m3/hr
StdLiqVolumeFlow   = 352.10055350316344 = m3/hr
H                  = -6786.562990485424 = kJ/kmol
Energy             = -19919583.583395936 = W
MolecularWeight    = 28.95933308 = 
ZFactor            = 0.7469640869264843 = 
NITROGEN           = 0.7811999999999999 = 
OXYGEN             = 0.2095 = 
ARGON              = 0.0093 = 

>> h5.Out
Port: /h5.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 1.0 = 
T                  = -133.2 * C
P                  = 595.0 = kPa
MoleFlow           = 1864.683831013143 = kgmole/h
MassFlow           = 54000.000151200045 = kg/h
VolumeFlow         = 3454.2122631341845 = m3/hr
StdLiqVolumeFlow   = 62.13539179467596 = m3/hr
H                  = -4765.503659685064 = kJ/kmol
Energy             = -2468377.116902416 = W
MolecularWeight    = 28.959333080000004 = 
ZFactor            = 0.9472261837138835 = 
NITROGEN           = 0.7812 = 
OXYGEN             = 0.2095 = 
ARGON              = 0.0093 = 

>> 
>> col1 = Tower.Tower()
>> col1.Stage_0 + 44  # 45 stages total
>> 
>> # Feed Stage is Btm Stage
>> cd col1.Stage_45
/col1.Stage_45
>> f = Tower.Feed()
>> /h4.Out -> f.Port
>> 
>> l = Tower.LiquidDraw()
>> l.Port.P = 5.7 bar
>> cd /
/
>> 
>> # Overhead Specs
>> cd col1.Stage_0
/col1.Stage_0
>> cond = Tower.EnergyFeed(0)
>> l = Tower.LiquidDraw()
>> l.Port.P = 5.6 bar
>> # l.Port.MassFlow = 23.1 kg/s
>> l.Port.Fraction.ARGON = 1e-7
>> 
>> # reflux = Tower.StageSpecification('Reflux')
>> # reflux.Value = 20
>> cd ..
/col1
>> 
>> TryToSolve = 1
Calculating Jacobian for /col1
Calculating disturbance 10 of 46 in jacobian of /col1
Calculating disturbance 20 of 46 in jacobian of /col1
Calculating disturbance 30 of 46 in jacobian of /col1
Calculating disturbance 40 of 46 in jacobian of /col1
/col1 Inner Error 0.008000
/col1 Inner Error 0.001042
/col1 Inner Error 0.000360
/col1 Inner Error 0.000355
Inner loop is not changing significantly - exiting
/col1 Iteration 1 Outer Error 0.015978
Calculating Jacobian for /col1
Calculating disturbance 10 of 46 in jacobian of /col1
Calculating disturbance 20 of 46 in jacobian of /col1
Calculating disturbance 30 of 46 in jacobian of /col1
Calculating disturbance 40 of 46 in jacobian of /col1
/col1 Inner Error 0.000384
/col1 Inner Error 0.000085
/col1 Inner Error 0.000014
/col1 Inner Error 0.000001
Inner loop converged
/col1 Iteration 2 Outer Error 0.000710
/col1 Inner Error 0.000089
/col1 Inner Error 0.000003
Inner loop converged
/col1 Iteration 3 Outer Error 0.000044
/col1 Inner Error 0.000002
Inner loop converged
>> 
>> /ovhd_liq_col1 = Stream.Stream_Material()
>> /ovhd_liq_col1.In -> Stage_0.l.Port
>> 
>> /btm_liq_col1 = Stream.Stream_Material()
>> /btm_liq_col1.In -> Stage_45.l.Port
>> 
>> cd /
/
>> 
>> ovhd_liq_col1.Out
Port: /ovhd_liq_col1.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = -177.72922269850767 = C
P                  = 560.0 = kPa
MoleFlow           = 3011.550311536741 = kgmole/h
MassFlow           = 84363.76715839439 = kg/h
VolumeFlow         = 106.20924372190998 = m3/hr
StdLiqVolumeFlow   = 104.92241100775283 = m3/hr
H                  = -10977.459371345369 = kJ/kmol
Energy             = -9183103.108238073 = W
MolecularWeight    = 28.013401037019797 = 
ZFactor            = 0.024893335098079224 = 
NITROGEN           = 0.9999998943517581 = 
OXYGEN             = 5.584477660326239e-09 = 
ARGON              = 1e-07 = 

>> btm_liq_col1.Out
Port: /btm_liq_col1.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = -174.61366604122486 = C
P                  = 570.0 = kPa
MoleFlow           = 7554.991397537707 = kgmole/h
MassFlow           = 221636.23369611328 = kg/h
VolumeFlow         = 246.72176649377502 = m3/hr
StdLiqVolumeFlow   = 247.1781424965123 = m3/hr
H                  = -11217.256578200642 = kJ/kmol
Energy             = -23540632.4867442 = W
MolecularWeight    = 29.33639789032031 = 
ZFactor            = 0.022720493592059573 = 
NITROGEN           = 0.6939825757400596 = 
OXYGEN             = 0.29301032320892423 = 
ARGON              = 0.013007101051016313 = 

>> 
>> jt_n2 = Valve.Valve()
>> ovhd_liq_col1.Out -> jt_n2.In
>> jt_n2.Out.P = 1.20 bar
>> 
>> jt_rl = Valve.Valve()
>> btm_liq_col1.Out -> jt_rl.In
>> jt_rl.Out.P = 1.30 bar
>> 
>> jt_n2.Out
Port: /jt_n2.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.17857704865399648 = 
T                  = -194.42951918910813 = C
P                  = 120.0 * kPa
MoleFlow           = 3011.550311536741 = kgmole/h
MassFlow           = 84363.76715839439 = kg/h
VolumeFlow         = 2872.9804166899744 = m3/hr
StdLiqVolumeFlow   = 104.92241100775283 = m3/hr
H                  = -10977.459371345369 = kJ/kmol
Energy             = -9183103.108238073 = W
MolecularWeight    = 28.013401193460002 = 
ZFactor            = 0.17490485536350764 = 
NITROGEN           = 0.9999998943517581 = 
OXYGEN             = 5.584477660326239e-09 = 
ARGON              = 1e-07 = 

>> jt_rl.Out
Port: /jt_rl.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.17112315680997225 = 
T                  = -191.2395122970326 = C
P                  = 130.0 * kPa
MoleFlow           = 7554.991397537707 = kgmole/h
MassFlow           = 221636.23369611328 = kg/h
VolumeFlow         = 6639.329978376402 = m3/hr
StdLiqVolumeFlow   = 247.1781424965123 = m3/hr
H                  = -11217.256578200642 = kJ/kmol
Energy             = -23540632.4867442 = W
MolecularWeight    = 29.336397890320306 = 
ZFactor            = 0.16774899817273167 = 
NITROGEN           = 0.6939825757400596 = 
OXYGEN             = 0.29301032320892423 = 
ARGON              = 0.013007101051016313 = 

>> 
>> fl1 = Flash.SimpleFlash()
>> jt_rl.Out -> fl1.In
>> fl1.Vap
Port: /fl1.Vap + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 1.0 = 
T                  = -191.2395122970326 = C
P                  = 130.0 = kPa
MoleFlow           = 1292.8339776188366 = kgmole/h
MassFlow           = 36950.02533124706 = kg/h
VolumeFlow         = 6459.050433011694 = m3/hr
StdLiqVolumeFlow   = 43.89316896593983 = m3/hr
H                  = -6364.74966688357 = kJ/kmol
Energy             = -2285712.396773681 = W
MolecularWeight    = 28.580642194523875 = 
ZFactor            = 0.9536644059307455 = 
NITROGEN           = 0.8715884232452727 = 
OXYGEN             = 0.1214334284472769 = 
ARGON              = 0.006978148307450386 = 

>> fl1.Liq0
Port: /fl1.Liq0 + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = -191.2395122970326 = C
P                  = 130.0 = kPa
MoleFlow           = 6262.157419918871 = kgmole/h
MassFlow           = 184686.2083648662 = kg/h
VolumeFlow         = 180.27954536470853 = m3/hr
StdLiqVolumeFlow   = 203.2849735305724 = m3/hr
H                  = -12219.067964380693 = kJ/kmol
Energy             = -21254924.19934431 = W
MolecularWeight    = 29.492425051055154 = 
ZFactor            = 0.005495309140288507 = 
NITROGEN           = 0.6573155201422295 = 
OXYGEN             = 0.3284326903657471 = 
ARGON              = 0.014251789492023489 = 

>> 
>> exp1 = Compressor.Expander()
>> h5.Out -> exp1.In
>> exp1.Efficiency = .75
>> exp1.Out.P = 1.30 bar
>> exp1.Out
Port: /exp1.Waste.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 1.0 = 
T                  = -171.92192016196753 = C
P                  = 130.0 * kPa
MoleFlow           = 1864.683831013143 = kgmole/h
MassFlow           = 54000.000151200045 = kg/h
VolumeFlow         = 11745.365536261203 = m3/hr
StdLiqVolumeFlow   = 62.13539179467596 = m3/hr
H                  = -5777.407237012976 = kJ/kmol
Energy             = -2992510.5166767817 = W
MolecularWeight    = 28.959333080000004 = 
ZFactor            = 0.9729029060602575 = 
NITROGEN           = 0.7812 = 
OXYGEN             = 0.2095 = 
ARGON              = 0.0093 = 

>> 
>> ovhd_liq_col3 = Stream.Stream_Material()
>> btm_liq_col3 = Stream.Stream_Material()
>> 
>> 
>> col2 = Tower.Tower()
>> col2.Stage_0 + 69  # 70 stages total
>> 
>> # Ovhd Stage
>> cd col2.Stage_0
/col2.Stage_0
>> v = Tower.VapourDraw()
>> v.Port.P = 1.20 bar
>> f = Tower.Feed()
>> /jt_n2.Out -> f.Port
>> estT = Tower.Estimate('T')
>> estT.Value = -194 C
>> 
>> cd /
/
>> 
>> # Side Draw 1
>> cd col2.Stage_10
/col2.Stage_10
>> v = Tower.VapourDraw()
>> v.Port.MoleFlow = 2.4 kgmole/s
>> cd /
/
>> 
>> # Side Draw 2
>> cd col2.Stage_57
/col2.Stage_57
>> v = Tower.VapourDraw()
>> v.Port.MoleFlow = 0.225 kgmole/s
>> # v.Port.Fraction.ARGON = 0.1
>> 
>> estT = Tower.Estimate('T')
>> estT.Value = -180 C
>> 
>> cd /
/
>> 
>> # Stage 56
>> cd col2.Stage_56
/col2.Stage_56
>> f = Tower.Feed()
>> /btm_liq_col3.Out -> f.Port
>> cd /
/
>> 
>> 
>> # Stage 19
>> cd col2.Stage_19
/col2.Stage_19
>> f = Tower.Feed()
>> /exp1.Out -> f.Port
>> cd /
/
>> 
>> # Different stages just for testing
>> # Stage 27
>> cd col2.Stage_27
/col2.Stage_27
>> f = Tower.Feed()
>> /fl1.Vap -> f.Port
>> cd /
/
>> 
>> # Stage 28
>> cd col2.Stage_28
/col2.Stage_28
>> f = Tower.Feed()
>> /fl1.Liq0 -> f.Port
>> cd /
/
>> 
>> 
>> # Btm Stage
>> cd col2.Stage_70
/col2.Stage_70
>> l = Tower.LiquidDraw()
>> l.Port.P = 1.35 bar
>> # l.Port.MassFlow = 4.7 kg/s
>> l.Port.Fraction.OXYGEN = 0.985
>> reb = Tower.EnergyFeed(1)
>> 
>> estT = Tower.Estimate('T')
>> estT.Value = -180 C
>> 
>> cd /
/
>> 
>> vap_draw1_col2 = Stream.Stream_Material()
>> vap_draw2_col2 = Stream.Stream_Material()
>> 
>> # Setup ovhd and liquid streams
>> cd col2
/col2
>> /ovhd_vap_col2 = Stream.Stream_Material()
>> /ovhd_vap_col2.In -> Stage_0.v.Port
>> 
>> /vap_draw1_col2.In -> Stage_10.v.Port
>> /vap_draw2_col2.In -> Stage_57.v.Port
>> 
>> /btm_liq_col2 = Stream.Stream_Material()
>> /btm_liq_col2.In -> Stage_70.l.Port
>> 
>> # DampingFactor = 0.8
>> TryToSolve = 1
>> cd ..
/
>> 
>> ovhd_vap_col2.Out
Port: /ovhd_vap_col2.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = None
T                  = None
P                  = 120.0 = kPa
MoleFlow           = None
MassFlow           = None
VolumeFlow         = None
StdLiqVolumeFlow is invalid
H                  = None
Energy             = None
MolecularWeight    = None
ZFactor            = None
NITROGEN           = None
OXYGEN             = None
ARGON              = None

>> btm_liq_col2.Out
Port: /btm_liq_col2.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = None
T                  = None
P                  = 135.0 = kPa
MoleFlow           = None
MassFlow           = None
VolumeFlow         = None
StdLiqVolumeFlow is invalid
H                  = None
Energy             = None
MolecularWeight    = None
ZFactor            = None
NITROGEN           = None
OXYGEN             = 0.985 = 
ARGON              = None

>> 
>> # Provide initial estimates for recycle
>> vap_draw2_col2.In.P ~= 132.214 kPa
Changed state of port /vap_draw2_col2.In to 1 (0=Normal port; 1=Recycle port)
>> vap_draw2_col2.In.VapFrac ~= 1
>> vap_draw2_col2.In.Fraction ~= 0.0 0.9224 0.0776
>> vap_draw2_col2.In.MoleFlow ~= 0.225 kgmole/s
>> vap_draw2_col2.Out
Port: /vap_draw2_col2.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 1.0 = 
T                  = -180.62735290155794 = C
P                  = 132.214 = kPa
MoleFlow           = 810.0000022680001 = kgmole/h
MassFlow           = 26418.682989172314 = kg/h
VolumeFlow         = 4536.11724159348 = m3/hr
StdLiqVolumeFlow   = 22.6370700633838 = m3/hr
H                  = -5922.106947510906 = kJ/kmol
Energy             = -1332474.0669208814 = W
MolecularWeight    = 32.61565792 = 
ZFactor            = 0.962486087836652 = 
NITROGEN           = 0.0 = 
OXYGEN             = 0.9224 = 
ARGON              = 0.0776 = 

>> 
>> 
>> col3 = Tower.Tower()
>> col3.Stage_0 + 119  # 70 stages total
>> 
>> # Ovhd Stage
>> cd col3.Stage_0
/col3.Stage_0
>> l = Tower.LiquidDraw()
>> l.Port.P = 1.20 bar
>> cond = Tower.EnergyFeed(0)
>> # reflux = Tower.StageSpecification('Reflux')
>> # reflux.Value = 33.4
>> l.Port.Fraction.ARGON = 0.999999
>> cd /
/
>> 
>> 
>> # Btm Stage
>> cd col3.Stage_120
/col3.Stage_120
>> l = Tower.LiquidDraw()
>> l.Port.P = 1.30 bar
>> f = Tower.Feed()
>> /vap_draw2_col2.Out -> f.Port
>> cd /
/
>> 
>> # Setup ovhd and liquid streams
>> cd col3
/col3
>> /ovhd_liq_col3.In -> Stage_0.l.Port
>> /btm_liq_col3.In -> Stage_120.l.Port
Iteration 1 -> max Error 0.000000 in 
>> TryToSolve = 1
Calculating Jacobian for /col3
Calculating disturbance 10 of 121 in jacobian of /col3
Calculating disturbance 20 of 121 in jacobian of /col3
Calculating disturbance 30 of 121 in jacobian of /col3
Calculating disturbance 40 of 121 in jacobian of /col3
Calculating disturbance 50 of 121 in jacobian of /col3
Calculating disturbance 60 of 121 in jacobian of /col3
Calculating disturbance 70 of 121 in jacobian of /col3
Calculating disturbance 80 of 121 in jacobian of /col3
Calculating disturbance 90 of 121 in jacobian of /col3
Calculating disturbance 100 of 121 in jacobian of /col3
Calculating disturbance 110 of 121 in jacobian of /col3
Calculating disturbance 120 of 121 in jacobian of /col3
/col3 Inner Error 0.729887
/col3 Inner Error 0.184434
/col3 Inner Error 0.167366
/col3 Inner Error 0.160781
/col3 Inner Error 0.148192
/col3 Inner Error 0.141851
/col3 Inner Error 0.140754
/col3 Inner Error 0.136518
/col3 Inner Error 0.130690
/col3 Inner Error 0.128546
/col3 Inner Error 0.127195
/col3 Inner Error 0.115569
/col3 Inner Error 0.109811
/col3 Inner Error 0.107253
/col3 Inner Error 0.098367
/col3 Inner Error 0.084535
/col3 Inner Error 0.078023
/col3 Inner Error 0.061546
/col3 Inner Error 0.037970
/col3 Inner Error 0.026344
/col3 Iteration 1 Outer Error 0.012852
Calculating Jacobian for /col3
Calculating disturbance 10 of 121 in jacobian of /col3
Calculating disturbance 20 of 121 in jacobian of /col3
Calculating disturbance 30 of 121 in jacobian of /col3
Calculating disturbance 40 of 121 in jacobian of /col3
Calculating disturbance 50 of 121 in jacobian of /col3
Calculating disturbance 60 of 121 in jacobian of /col3
Calculating disturbance 70 of 121 in jacobian of /col3
Calculating disturbance 80 of 121 in jacobian of /col3
Calculating disturbance 90 of 121 in jacobian of /col3
Calculating disturbance 100 of 121 in jacobian of /col3
Calculating disturbance 110 of 121 in jacobian of /col3
Calculating disturbance 120 of 121 in jacobian of /col3
/col3 Inner Error 0.047144
/col3 Inner Error 0.029710
/col3 Inner Error 0.019409
/col3 Inner Error 0.010722
/col3 Inner Error 0.008909
/col3 Inner Error 0.007833
/col3 Inner Error 0.003901
/col3 Inner Error 0.003510
/col3 Inner Error 0.003138
/col3 Inner Error 0.001445
Step size too small - Exiting inner loop
/col3 Iteration 2 Outer Error 0.008121
Calculating Jacobian for /col3
Calculating disturbance 10 of 121 in jacobian of /col3
Calculating disturbance 20 of 121 in jacobian of /col3
Calculating disturbance 30 of 121 in jacobian of /col3
Calculating disturbance 40 of 121 in jacobian of /col3
Calculating disturbance 50 of 121 in jacobian of /col3
Calculating disturbance 60 of 121 in jacobian of /col3
Calculating disturbance 70 of 121 in jacobian of /col3
Calculating disturbance 80 of 121 in jacobian of /col3
Calculating disturbance 90 of 121 in jacobian of /col3
Calculating disturbance 100 of 121 in jacobian of /col3
Calculating disturbance 110 of 121 in jacobian of /col3
Calculating disturbance 120 of 121 in jacobian of /col3
/col3 Inner Error 0.626320
/col3 Inner Error 0.625701
/col3 Inner Error 0.625665
/col3 Inner Error 0.622809
/col3 Inner Error 0.622474
/col3 Inner Error 0.443592
/col3 Inner Error 0.283020
/col3 Inner Error 0.282760
Step size too small - Exiting inner loop
/col3 Iteration 3 Outer Error 0.001572
Calculating Jacobian for /col3
Calculating disturbance 10 of 121 in jacobian of /col3
Calculating disturbance 20 of 121 in jacobian of /col3
Calculating disturbance 30 of 121 in jacobian of /col3
Calculating disturbance 40 of 121 in jacobian of /col3
Calculating disturbance 50 of 121 in jacobian of /col3
Calculating disturbance 60 of 121 in jacobian of /col3
Calculating disturbance 70 of 121 in jacobian of /col3
Calculating disturbance 80 of 121 in jacobian of /col3
Calculating disturbance 90 of 121 in jacobian of /col3
Calculating disturbance 100 of 121 in jacobian of /col3
Calculating disturbance 110 of 121 in jacobian of /col3
Calculating disturbance 120 of 121 in jacobian of /col3
/col3 Inner Error 0.330167
/col3 Inner Error 0.328982
/col3 Inner Error 0.290049
/col3 Inner Error 0.095734
/col3 Inner Error 0.095373
/col3 Inner Error 0.059986
/col3 Inner Error 0.054195
/col3 Inner Error 0.020612
/col3 Inner Error 0.001801
/col3 Inner Error 0.000810
/col3 Inner Error 0.000125
/col3 Inner Error 0.000042
/col3 Inner Error 0.000006
Inner loop converged
/col3 Iteration 4 Outer Error 0.002204
/col3 Inner Error 0.045462
/col3 Inner Error 0.043087
/col3 Inner Error 0.010320
/col3 Inner Error 0.010032
/col3 Inner Error 0.009777
/col3 Inner Error 0.005355
/col3 Inner Error 0.001961
/col3 Inner Error 0.000306
/col3 Inner Error 0.000032
/col3 Inner Error 0.000002
Inner loop converged
/col3 Iteration 5 Outer Error 0.000008
/col3 Inner Error 0.000308
/col3 Inner Error 0.000058
/col3 Inner Error 0.000002
Inner loop converged
Calculating Jacobian for /col2
Calculating disturbance 10 of 73 in jacobian of /col2
Calculating disturbance 20 of 73 in jacobian of /col2
Calculating disturbance 30 of 73 in jacobian of /col2
Calculating disturbance 40 of 73 in jacobian of /col2
Calculating disturbance 50 of 73 in jacobian of /col2
Calculating disturbance 60 of 73 in jacobian of /col2
Calculating disturbance 70 of 73 in jacobian of /col2
/col2 Inner Error 0.019967
/col2 Inner Error 0.011215
/col2 Inner Error 0.001103
/col2 Inner Error 0.000064
/col2 Inner Error 0.000012
/col2 Inner Error 0.000002
Inner loop converged
/col2 Iteration 1 Outer Error 0.022081
/col2 Inner Error 0.011011
/col2 Inner Error 0.000764
/col2 Inner Error 0.000150
/col2 Inner Error 0.000016
/col2 Inner Error 0.000005
Inner loop converged
/col2 Iteration 2 Outer Error 0.007690
/col2 Inner Error 0.002997
/col2 Inner Error 0.000457
/col2 Inner Error 0.000030
/col2 Inner Error 0.000004
Inner loop converged
/col2 Iteration 3 Outer Error 0.001103
/col2 Inner Error 0.000162
/col2 Inner Error 0.000022
/col2 Inner Error 0.000001
Inner loop converged
/col2 Iteration 4 Outer Error 0.000272
/col2 Inner Error 0.000027
/col2 Inner Error 0.000002
Inner loop converged
/col2 Iteration 5 Outer Error 0.000048
/col2 Inner Error 0.000001
Inner loop converged
Iteration 1 -> max Error 0.000111 in /vap_draw2_col2.In.Fraction.ARGON
/col3 Inner Error 0.000410
/col3 Inner Error 0.000044
/col3 Inner Error 0.000004
Inner loop converged
/col3 Iteration 1 Outer Error 0.000003
/col3 Inner Error 0.000121
/col3 Inner Error 0.000105
Step size too small - Exiting inner loop
/col3 Iteration 2 Outer Error 0.000016
Calculating Jacobian for /col3
Calculating disturbance 10 of 121 in jacobian of /col3
Calculating disturbance 20 of 121 in jacobian of /col3
Calculating disturbance 30 of 121 in jacobian of /col3
Calculating disturbance 40 of 121 in jacobian of /col3
Calculating disturbance 50 of 121 in jacobian of /col3
Calculating disturbance 60 of 121 in jacobian of /col3
Calculating disturbance 70 of 121 in jacobian of /col3
Calculating disturbance 80 of 121 in jacobian of /col3
Calculating disturbance 90 of 121 in jacobian of /col3
Calculating disturbance 100 of 121 in jacobian of /col3
Calculating disturbance 110 of 121 in jacobian of /col3
Calculating disturbance 120 of 121 in jacobian of /col3
/col3 Inner Error 0.000112
/col3 Inner Error 0.000110
Inner loop is not changing significantly - exiting
/col3 Iteration 3 Outer Error 0.000003
Calculating Jacobian for /col3
Calculating disturbance 10 of 121 in jacobian of /col3
Calculating disturbance 20 of 121 in jacobian of /col3
Calculating disturbance 30 of 121 in jacobian of /col3
Calculating disturbance 40 of 121 in jacobian of /col3
Calculating disturbance 50 of 121 in jacobian of /col3
Calculating disturbance 60 of 121 in jacobian of /col3
Calculating disturbance 70 of 121 in jacobian of /col3
Calculating disturbance 80 of 121 in jacobian of /col3
Calculating disturbance 90 of 121 in jacobian of /col3
Calculating disturbance 100 of 121 in jacobian of /col3
Calculating disturbance 110 of 121 in jacobian of /col3
Calculating disturbance 120 of 121 in jacobian of /col3
/col3 Inner Error 0.000303
Inner loop is not changing significantly - exiting
/col3 Iteration 4 Outer Error 0.000002
Calculating Jacobian for /col3
Calculating disturbance 10 of 121 in jacobian of /col3
Calculating disturbance 20 of 121 in jacobian of /col3
Calculating disturbance 30 of 121 in jacobian of /col3
Calculating disturbance 40 of 121 in jacobian of /col3
Calculating disturbance 50 of 121 in jacobian of /col3
Calculating disturbance 60 of 121 in jacobian of /col3
Calculating disturbance 70 of 121 in jacobian of /col3
Calculating disturbance 80 of 121 in jacobian of /col3
Calculating disturbance 90 of 121 in jacobian of /col3
Calculating disturbance 100 of 121 in jacobian of /col3
Calculating disturbance 110 of 121 in jacobian of /col3
Calculating disturbance 120 of 121 in jacobian of /col3
/col3 Inner Error 0.000076
/col3 Inner Error 0.000002
Inner loop converged
/col2 Inner Error 0.000043
Inner loop is not changing significantly - exiting
/col2 Iteration 1 Outer Error 0.000053
Calculating Jacobian for /col2
Calculating disturbance 10 of 73 in jacobian of /col2
Calculating disturbance 20 of 73 in jacobian of /col2
Calculating disturbance 30 of 73 in jacobian of /col2
Calculating disturbance 40 of 73 in jacobian of /col2
Calculating disturbance 50 of 73 in jacobian of /col2
Calculating disturbance 60 of 73 in jacobian of /col2
Calculating disturbance 70 of 73 in jacobian of /col2
/col2 Inner Error 0.000000
Inner loop converged
Iteration 2 -> max Error 0.000023 in /vap_draw2_col2.In.Fraction.OXYGEN
>> cd ..
/
>> 
>> # Purified Nitrogen Product
>> ovhd_vap_col2.Out
Port: /ovhd_vap_col2.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = None
T                  = None
P                  = 120.0 = kPa
MoleFlow           = 1930.8416778390947 = kgmole/h
MassFlow           = 54089.44145076729 = kg/h
VolumeFlow         = None
StdLiqVolumeFlow   = 67.27052339699303 = m3/hr
H                  = None
Energy             = None
MolecularWeight    = None
ZFactor            = None
NITROGEN           = 0.9999999424419491 = 
OXYGEN             = 8.702262213506471e-09 = 
ARGON              = 4.885578869347571e-08 = 

>> 
>> # Purified Oxygen Product
>> btm_liq_col2.Out
Port: /btm_liq_col2.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = -180.29643394851627 = C
P                  = 135.0 = kPa
MoleFlow           = 1845.4529263249424 = kgmole/h
MassFlow           = 59272.32720361855 = kg/h
VolumeFlow         = 46.48826466818318 = m3/hr
StdLiqVolumeFlow   = 51.43046623874178 = m3/hr
H                  = -12707.000830669549 = kJ/kmol
Energy             = -6513936.629936831 = W
MolecularWeight    = 32.11803799387839 = 
ZFactor            = 0.004404953813714808 = 
NITROGEN           = 3.694173242696695e-17 = 
OXYGEN             = 0.985 = 
ARGON              = 0.014999999218180774 = 

>> 
>> # Pure Argon Product
>> ovhd_liq_col3.Out
Port: /ovhd_liq_col3.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = -184.33399995133698 = C
P                  = 120.0 = kPa
MoleFlow           = 14.930819830845943 = kgmole/h
MassFlow           = 596.4562690522233 = kg/h
VolumeFlow         = 0.37650752655071795 = m3/hr
StdLiqVolumeFlow   = 0.4344868434508174 = m3/hr
H                  = -10771.315482801143 = kJ/kmol
Energy             = -44673.49189302923 = W
MolecularWeight    = 39.94799185909336 = 
ZFactor            = 0.004097753767214607 = 
NITROGEN           = 4.824703009308984e-08 = 
OXYGEN             = 9.516803744347956e-07 = 
ARGON              = 0.999999 = 

>> 
>> # Liquid recycle back to Col2
>> btm_liq_col3.Out
Port: /btm_liq_col3.Out + sim21.solver.Ports.Port_Material
Connected to: /col2.Feed_56_f
VapFrac            = 0.0 = 
T                  = -180.82991876620622 = C
P                  = 130.0 = kPa
MoleFlow           = 795.0691824371531 = kgmole/h
MassFlow           = 25821.512966688944 = kg/h
VolumeFlow         = 19.995831287899605 = m3/hr
StdLiqVolumeFlow   = 22.202471087787355 = m3/hr
H                  = -12637.956816090205 = kJ/kmol
Energy             = -2791124.998179135 = W
MolecularWeight    = 32.47706430720578 = 
ZFactor            = 0.004259391235612032 = 
NITROGEN           = 1.635523869575276e-08 = 
OXYGEN             = 0.9398348887436457 = 
ARGON              = 0.0601650949011155 = 

>> 
>> # Vapor recycle to Col3
>> vap_draw2_col2.Out
Port: /vap_draw2_col2.Out + sim21.solver.Ports.Port_Material
Connected to: /col3.Feed_120_f
VapFrac            = 1.0 = 
T                  = -180.6598674418039 = C
P                  = 132.21428571428572 = kPa
MoleFlow           = 810.0000022680001 = kgmole/h
MassFlow           = 26417.969235741202 = kg/h
VolumeFlow         = 4534.356764086178 = m3/hr
StdLiqVolumeFlow   = 22.636957931238204 = m3/hr
H                  = -5923.2593163079555 = kJ/kmol
Energy             = -1332733.3499009437 = W
MolecularWeight    = 32.61477674292702 = 
ZFactor            = 0.9624528514922899 = 
NITROGEN           = 1.694310362180616e-08 = 
OXYGEN             = 0.9225108256005405 = 
ARGON              = 0.07748915745635583 = 

