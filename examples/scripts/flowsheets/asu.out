>> # A Simple Air Separation Unit Example
>> # Similar to example found on ChemSep website
>> # Converges quickly, but a good estimate of the tear is required since it's a coupled column
>> 
>> units SI
>> 
>> # set up thermo
>> $thermo = Sim21Thermo.Peng-Robinson
pkgName: Peng-Robinson
>> 
>> / -> $thermo
Thermo case attached to a unit operation. / to /thermo
>> thermo + NITROGEN OXYGEN ARGON
NITROGEN OXYGEN ARGON 
>> 
>> /MaxNumIterations = 50
>> # /RecycleDetails = 1
>> 
>> air_feed = Stream.Stream_Material()
>> air_feed.In.T = 30 C
>> air_feed.In.P = 1.01315 bar
>> air_feed.In.MassFlow = 100 kg/s
>> air_feed.In.Fraction = 0.7812 0.2095 0.0093
>> air_feed.Out
Port: /air_feed.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 1.0 = 
T                  = 30.0 = C
P                  = 101.315 = kPa
MoleFlow           = 12431.225540087611 = kgmole/h
MassFlow           = 360000.00100800005 = kg/h
VolumeFlow         = 309109.63421536953 = m3/hr
StdLiqVolumeFlow   = 414.23594529783946 = m3/hr
H                  = 137.58325688354483 = kJ/kmol
Energy             = 475091.24912754365 = W
MolecularWeight    = 28.959333080000004 = 
ZFactor            = 0.9994949091003293 = 
NITROGEN           = 0.7812 = 
OXYGEN             = 0.2095 = 
ARGON              = 0.0093 = 

>> 
>> comp1 = Compressor.Compressor()
>> air_feed.Out -> comp1.In
>> comp1.Out.P = 1.98 bar
>> comp1.Efficiency = .8
>> 
>> h1 = Heater.Heater()
>> comp1.Out -> h1.In
>> h1.DeltaP.DP = 0.2 bar
>> h1.Out.T = 40 C
>> 
>> comp2 = Compressor.Compressor()
>> h1.Out -> comp2.In
>> comp2.Out.P = 3.46 bar
>> comp2.Efficiency = .8
>> 
>> h2 = Heater.Heater()
>> comp2.Out -> h2.In
>> h2.DeltaP.DP = 0.2 bar
>> h2.Out.T = 40 C
>> 
>> comp3 = Compressor.Compressor()
>> h2.Out -> comp3.In
>> comp3.Out.P = 6.35 bar
>> comp3.Efficiency = .8
>> 
>> h3 = Heater.Heater()
>> comp3.Out -> h3.In
>> h3.DeltaP.DP = 0.2 bar
>> h3.Out.T = 30 C
>> 
>> spl1 = Split.Splitter()
>> h3.Out -> spl1.In
>> spl1.Out0.MassFlow = 85.0 kg/s
>> spl1.Out1
Port: /spl1.Out1 + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 1.0 = 
T                  = 30.0 = C
P                  = 615.0 = kPa
MoleFlow           = 1864.683831013143 = kgmole/h
MassFlow           = 54000.000151200045 = kg/h
VolumeFlow         = 7619.599029985562 = m3/hr
StdLiqVolumeFlow   = 62.13539179467596 = m3/hr
H                  = 97.86915003359175 = kJ/kmol
Energy             = 50693.06156184387 = W
MolecularWeight    = 28.959333080000004 = 
ZFactor            = 0.9970346944246617 = 
NITROGEN           = 0.7812 = 
OXYGEN             = 0.2095 = 
ARGON              = 0.0093 = 

>> 
>> h4 = Heater.Heater()
>> spl1.Out0 -> h4.In
>> h4.DeltaP.DP = 0.4 bar
>> h4.Out.T = -173.8 C
>> 
>> h5 = Heater.Heater()
>> spl1.Out1 -> h5.In
>> h5.DeltaP.DP = 0.2 bar
>> h5.Out.T = -133.2 C
>> 
>> h4.Out
Port: /h4.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.8612842563384792 = 
T                  = -173.8 * C
P                  = 575.0 = kPa
MoleFlow           = 10566.541709074467 = kgmole/h
MassFlow           = 306000.0008568 = kg/h
VolumeFlow         = 11338.79243992706 = m3/hr
StdLiqVolumeFlow   = 352.10055350316344 = m3/hr
H                  = -6786.562990485424 = kJ/kmol
Energy             = -19919583.583395936 = W
MolecularWeight    = 28.95933308 = 
ZFactor            = 0.7469640869264843 = 
NITROGEN           = 0.7811999999999999 = 
OXYGEN             = 0.2095 = 
ARGON              = 0.0093 = 

>> h5.Out
Port: /h5.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 1.0 = 
T                  = -133.2 * C
P                  = 595.0 = kPa
MoleFlow           = 1864.683831013143 = kgmole/h
MassFlow           = 54000.000151200045 = kg/h
VolumeFlow         = 3454.2122631341845 = m3/hr
StdLiqVolumeFlow   = 62.13539179467596 = m3/hr
H                  = -4765.503659685064 = kJ/kmol
Energy             = -2468377.116902416 = W
MolecularWeight    = 28.959333080000004 = 
ZFactor            = 0.9472261837138835 = 
NITROGEN           = 0.7812 = 
OXYGEN             = 0.2095 = 
ARGON              = 0.0093 = 

>> 
>> col1 = Tower.Tower()
>> col1.Stage_0 + 44  # 45 stages total
>> 
>> # Feed Stage is Btm Stage
>> cd col1.Stage_45
/col1.Stage_45
>> f = Tower.Feed()
>> /h4.Out -> f.Port
>> 
>> l = Tower.LiquidDraw()
>> l.Port.P = 5.7 bar
>> cd /
/
>> 
>> # Overhead Specs
>> cd col1.Stage_0
/col1.Stage_0
>> cond = Tower.EnergyFeed(0)
>> l = Tower.LiquidDraw()
>> l.Port.P = 5.6 bar
>> # l.Port.MassFlow = 23.1 kg/s
>> l.Port.Fraction.ARGON = 1e-7
>> 
>> # reflux = Tower.StageSpecification('Reflux')
>> # reflux.Value = 20
>> cd ..
/col1
>> 
>> TryToSolve = 1
Calculating Jacobian for /col1
Calculating disturbance 10 of 46 in jacobian of /col1
Calculating disturbance 20 of 46 in jacobian of /col1
Calculating disturbance 30 of 46 in jacobian of /col1
Calculating disturbance 40 of 46 in jacobian of /col1
/col1 Inner Error 0.008000
/col1 Inner Error 0.001042
/col1 Inner Error 0.000360
/col1 Inner Error 0.000355
Inner loop is not changing significantly - exiting
/col1 Iteration 1 Outer Error 0.015978
Calculating Jacobian for /col1
Calculating disturbance 10 of 46 in jacobian of /col1
Calculating disturbance 20 of 46 in jacobian of /col1
Calculating disturbance 30 of 46 in jacobian of /col1
Calculating disturbance 40 of 46 in jacobian of /col1
/col1 Inner Error 0.000384
/col1 Inner Error 0.000085
/col1 Inner Error 0.000014
/col1 Inner Error 0.000001
Inner loop converged
/col1 Iteration 2 Outer Error 0.000710
/col1 Inner Error 0.000089
/col1 Inner Error 0.000003
Inner loop converged
/col1 Iteration 3 Outer Error 0.000044
/col1 Inner Error 0.000002
Inner loop converged
>> 
>> /ovhd_liq_col1 = Stream.Stream_Material()
>> /ovhd_liq_col1.In -> Stage_0.l.Port
>> 
>> /btm_liq_col1 = Stream.Stream_Material()
>> /btm_liq_col1.In -> Stage_45.l.Port
>> 
>> cd /
/
>> 
>> ovhd_liq_col1.Out
Port: /ovhd_liq_col1.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = -177.72922269850767 = C
P                  = 560.0 = kPa
MoleFlow           = 3011.550311536741 = kgmole/h
MassFlow           = 84363.76715839439 = kg/h
VolumeFlow         = 106.20924372190998 = m3/hr
StdLiqVolumeFlow   = 104.92241100775283 = m3/hr
H                  = -10977.459371345369 = kJ/kmol
Energy             = -9183103.108238073 = W
MolecularWeight    = 28.013401037019797 = 
ZFactor            = 0.024893335098079224 = 
NITROGEN           = 0.9999998943517581 = 
OXYGEN             = 5.584477660326239e-09 = 
ARGON              = 1e-07 = 

>> btm_liq_col1.Out
Port: /btm_liq_col1.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = -174.61366604122486 = C
P                  = 570.0 = kPa
MoleFlow           = 7554.991397537707 = kgmole/h
MassFlow           = 221636.23369611328 = kg/h
VolumeFlow         = 246.72176649377502 = m3/hr
StdLiqVolumeFlow   = 247.1781424965123 = m3/hr
H                  = -11217.256578200642 = kJ/kmol
Energy             = -23540632.4867442 = W
MolecularWeight    = 29.33639789032031 = 
ZFactor            = 0.022720493592059573 = 
NITROGEN           = 0.6939825757400596 = 
OXYGEN             = 0.29301032320892423 = 
ARGON              = 0.013007101051016313 = 

>> 
>> jt_n2 = Valve.Valve()
>> ovhd_liq_col1.Out -> jt_n2.In
>> jt_n2.Out.P = 1.20 bar
>> 
>> jt_rl = Valve.Valve()
>> btm_liq_col1.Out -> jt_rl.In
>> jt_rl.Out.P = 1.30 bar
>> 
>> jt_n2.Out
Port: /jt_n2.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.17857704865399648 = 
T                  = -194.42951918910813 = C
P                  = 120.0 * kPa
MoleFlow           = 3011.550311536741 = kgmole/h
MassFlow           = 84363.76715839439 = kg/h
VolumeFlow         = 2872.9804166899744 = m3/hr
StdLiqVolumeFlow   = 104.92241100775283 = m3/hr
H                  = -10977.459371345369 = kJ/kmol
Energy             = -9183103.108238073 = W
MolecularWeight    = 28.013401193460002 = 
ZFactor            = 0.17490485536350764 = 
NITROGEN           = 0.9999998943517581 = 
OXYGEN             = 5.584477660326239e-09 = 
ARGON              = 1e-07 = 

>> jt_rl.Out
Port: /jt_rl.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.17112315680997225 = 
T                  = -191.2395122970326 = C
P                  = 130.0 * kPa
MoleFlow           = 7554.991397537707 = kgmole/h
MassFlow           = 221636.23369611328 = kg/h
VolumeFlow         = 6639.329978376402 = m3/hr
StdLiqVolumeFlow   = 247.1781424965123 = m3/hr
H                  = -11217.256578200642 = kJ/kmol
Energy             = -23540632.4867442 = W
MolecularWeight    = 29.336397890320306 = 
ZFactor            = 0.16774899817273167 = 
NITROGEN           = 0.6939825757400596 = 
OXYGEN             = 0.29301032320892423 = 
ARGON              = 0.013007101051016313 = 

>> 
>> fl1 = Flash.SimpleFlash()
>> jt_rl.Out -> fl1.In
>> fl1.Vap
Port: /fl1.Vap + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 1.0 = 
T                  = -191.2395122970326 = C
P                  = 130.0 = kPa
MoleFlow           = 1292.8339776188366 = kgmole/h
MassFlow           = 36950.02533124706 = kg/h
VolumeFlow         = 6459.050433011694 = m3/hr
StdLiqVolumeFlow   = 43.89316896593983 = m3/hr
H                  = -6364.74966688357 = kJ/kmol
Energy             = -2285712.396773681 = W
MolecularWeight    = 28.580642194523875 = 
ZFactor            = 0.9536644059307455 = 
NITROGEN           = 0.8715884232452727 = 
OXYGEN             = 0.1214334284472769 = 
ARGON              = 0.006978148307450386 = 

>> fl1.Liq0
Port: /fl1.Liq0 + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = -191.2395122970326 = C
P                  = 130.0 = kPa
MoleFlow           = 6262.157419918871 = kgmole/h
MassFlow           = 184686.2083648662 = kg/h
VolumeFlow         = 180.27954536470853 = m3/hr
StdLiqVolumeFlow   = 203.2849735305724 = m3/hr
H                  = -12219.067964380693 = kJ/kmol
Energy             = -21254924.19934431 = W
MolecularWeight    = 29.492425051055154 = 
ZFactor            = 0.005495309140288507 = 
NITROGEN           = 0.6573155201422295 = 
OXYGEN             = 0.3284326903657471 = 
ARGON              = 0.014251789492023489 = 

>> 
>> exp1 = Compressor.Expander()
>> h5.Out -> exp1.In
>> exp1.Efficiency = .75
>> exp1.Out.P = 1.30 bar
>> exp1.Out
Port: /exp1.Waste.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 1.0 = 
T                  = -171.92175973924685 = C
P                  = 130.0 * kPa
MoleFlow           = 1864.683831013143 = kgmole/h
MassFlow           = 54000.000151200045 = kg/h
VolumeFlow         = 11745.38549912664 = m3/hr
StdLiqVolumeFlow   = 62.13539179467596 = m3/hr
H                  = -5777.402541092698 = kJ/kmol
Energy             = -2992508.084341611 = W
MolecularWeight    = 28.959333080000004 = 
ZFactor            = 0.9729030178199858 = 
NITROGEN           = 0.7812 = 
OXYGEN             = 0.2095 = 
ARGON              = 0.0093 = 

>> 
>> ovhd_liq_col3 = Stream.Stream_Material()
>> btm_liq_col3 = Stream.Stream_Material()
>> 
>> 
>> col2 = Tower.Tower()
>> col2.Stage_0 + 69  # 70 stages total
>> 
>> # Ovhd Stage
>> cd col2.Stage_0
/col2.Stage_0
>> v = Tower.VapourDraw()
>> v.Port.P = 1.20 bar
>> f = Tower.Feed()
>> /jt_n2.Out -> f.Port
>> estT = Tower.Estimate('T')
>> estT.Value = -194 C
>> 
>> cd /
/
>> 
>> # Side Draw 1
>> cd col2.Stage_10
/col2.Stage_10
>> v = Tower.VapourDraw()
>> v.Port.MoleFlow = 2.4 kgmole/s
>> cd /
/
>> 
>> # Side Draw 2
>> cd col2.Stage_57
/col2.Stage_57
>> v = Tower.VapourDraw()
>> v.Port.MoleFlow = 0.225 kgmole/s
>> # v.Port.Fraction.ARGON = 0.1
>> 
>> estT = Tower.Estimate('T')
>> estT.Value = -180 C
>> 
>> cd /
/
>> 
>> # Stage 56
>> cd col2.Stage_56
/col2.Stage_56
>> f = Tower.Feed()
>> /btm_liq_col3.Out -> f.Port
>> cd /
/
>> 
>> 
>> # Stage 19
>> cd col2.Stage_19
/col2.Stage_19
>> f = Tower.Feed()
>> /exp1.Out -> f.Port
>> cd /
/
>> 
>> # Different stages just for testing
>> # Stage 27
>> cd col2.Stage_27
/col2.Stage_27
>> f = Tower.Feed()
>> /fl1.Vap -> f.Port
>> cd /
/
>> 
>> # Stage 28
>> cd col2.Stage_28
/col2.Stage_28
>> f = Tower.Feed()
>> /fl1.Liq0 -> f.Port
>> cd /
/
>> 
>> 
>> # Btm Stage
>> cd col2.Stage_70
/col2.Stage_70
>> l = Tower.LiquidDraw()
>> l.Port.P = 1.35 bar
>> # l.Port.MassFlow = 4.7 kg/s
>> l.Port.Fraction.OXYGEN = 0.99
>> reb = Tower.EnergyFeed(1)
>> 
>> estT = Tower.Estimate('T')
>> estT.Value = -180 C
>> 
>> cd /
/
>> 
>> vap_draw1_col2 = Stream.Stream_Material()
>> vap_draw2_col2 = Stream.Stream_Material()
>> 
>> # Setup ovhd and liquid streams
>> cd col2
/col2
>> /ovhd_vap_col2 = Stream.Stream_Material()
>> /ovhd_vap_col2.In -> Stage_0.v.Port
>> 
>> /vap_draw1_col2.In -> Stage_10.v.Port
>> /vap_draw2_col2.In -> Stage_57.v.Port
>> 
>> /btm_liq_col2 = Stream.Stream_Material()
>> /btm_liq_col2.In -> Stage_70.l.Port
>> 
>> # DampingFactor = 0.8
>> TryToSolve = 1
>> cd ..
/
>> 
>> ovhd_vap_col2.Out
Port: /ovhd_vap_col2.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = None
T                  = None
P                  = 120.0 = kPa
MoleFlow           = None
MassFlow           = None
VolumeFlow         = None
StdLiqVolumeFlow is invalid
H                  = None
Energy             = None
MolecularWeight    = None
ZFactor            = None
NITROGEN           = None
OXYGEN             = None
ARGON              = None

>> btm_liq_col2.Out
Port: /btm_liq_col2.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = None
T                  = None
P                  = 135.0 = kPa
MoleFlow           = None
MassFlow           = None
VolumeFlow         = None
StdLiqVolumeFlow is invalid
H                  = None
Energy             = None
MolecularWeight    = None
ZFactor            = None
NITROGEN           = None
OXYGEN             = 0.99 = 
ARGON              = None

>> 
>> # Provide initial estimates for recycle
>> vap_draw2_col2.In.P ~= 132.214 kPa
Changed state of port /vap_draw2_col2.In to 1 (0=Normal port; 1=Recycle port)
>> vap_draw2_col2.In.VapFrac ~= 1
>> vap_draw2_col2.In.Fraction ~= 0.0 0.92 0.08
>> vap_draw2_col2.In.MoleFlow ~= 0.225 kgmole/s
>> vap_draw2_col2.Out
Port: /vap_draw2_col2.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 1.0 = 
T                  = -180.6648877083494 = C
P                  = 132.214 = kPa
MoleFlow           = 810.0000022680001 = kgmole/h
MassFlow           = 26434.136234015583 = kg/h
VolumeFlow         = 4534.117837802857 = m3/hr
StdLiqVolumeFlow   = 22.639500063390603 = m3/hr
H                  = -5919.101414716688 = kJ/kmol
Energy             = -1331797.822040289 = W
MolecularWeight    = 32.634736 = 
ZFactor            = 0.9624522986585589 = 
NITROGEN           = 0.0 = 
OXYGEN             = 0.92 = 
ARGON              = 0.08 = 

>> 
>> 
>> col3 = Tower.Tower()
>> col3.Stage_0 + 119  # 70 stages total
>> 
>> # Ovhd Stage
>> cd col3.Stage_0
/col3.Stage_0
>> l = Tower.LiquidDraw()
>> l.Port.P = 1.20 bar
>> cond = Tower.EnergyFeed(0)
>> # reflux = Tower.StageSpecification('Reflux')
>> # reflux.Value = 33.4
>> l.Port.Fraction.OXYGEN = 1e-6
>> cd /
/
>> 
>> 
>> # Btm Stage
>> cd col3.Stage_120
/col3.Stage_120
>> l = Tower.LiquidDraw()
>> l.Port.P = 1.30 bar
>> f = Tower.Feed()
>> /vap_draw2_col2.Out -> f.Port
>> cd /
/
>> 
>> # Setup ovhd and liquid streams
>> cd col3
/col3
>> /ovhd_liq_col3.In -> Stage_0.l.Port
>> /btm_liq_col3.In -> Stage_120.l.Port
Iteration 1 -> max Error 0.000000 in 
>> TryToSolve = 1
Calculating Jacobian for /col3
Calculating disturbance 10 of 121 in jacobian of /col3
Calculating disturbance 20 of 121 in jacobian of /col3
Calculating disturbance 30 of 121 in jacobian of /col3
Calculating disturbance 40 of 121 in jacobian of /col3
Calculating disturbance 50 of 121 in jacobian of /col3
Calculating disturbance 60 of 121 in jacobian of /col3
Calculating disturbance 70 of 121 in jacobian of /col3
Calculating disturbance 80 of 121 in jacobian of /col3
Calculating disturbance 90 of 121 in jacobian of /col3
Calculating disturbance 100 of 121 in jacobian of /col3
Calculating disturbance 110 of 121 in jacobian of /col3
Calculating disturbance 120 of 121 in jacobian of /col3
/col3 Inner Error 0.721156
/col3 Inner Error 0.183577
/col3 Inner Error 0.165684
/col3 Inner Error 0.159154
/col3 Inner Error 0.147096
/col3 Inner Error 0.140053
/col3 Inner Error 0.138886
/col3 Inner Error 0.135112
/col3 Inner Error 0.129027
/col3 Inner Error 0.126509
/col3 Inner Error 0.125500
/col3 Inner Error 0.113936
/col3 Inner Error 0.107825
/col3 Inner Error 0.105376
/col3 Inner Error 0.096657
/col3 Inner Error 0.082034
/col3 Inner Error 0.076121
/col3 Inner Error 0.060375
/col3 Inner Error 0.037081
/col3 Inner Error 0.025058
/col3 Iteration 1 Outer Error 0.012686
Calculating Jacobian for /col3
Calculating disturbance 10 of 121 in jacobian of /col3
Calculating disturbance 20 of 121 in jacobian of /col3
Calculating disturbance 30 of 121 in jacobian of /col3
Calculating disturbance 40 of 121 in jacobian of /col3
Calculating disturbance 50 of 121 in jacobian of /col3
Calculating disturbance 60 of 121 in jacobian of /col3
Calculating disturbance 70 of 121 in jacobian of /col3
Calculating disturbance 80 of 121 in jacobian of /col3
Calculating disturbance 90 of 121 in jacobian of /col3
Calculating disturbance 100 of 121 in jacobian of /col3
Calculating disturbance 110 of 121 in jacobian of /col3
Calculating disturbance 120 of 121 in jacobian of /col3
/col3 Inner Error 0.048142
/col3 Inner Error 0.030248
/col3 Inner Error 0.019589
/col3 Inner Error 0.010628
/col3 Inner Error 0.008618
/col3 Inner Error 0.008213
/col3 Inner Error 0.004044
/col3 Inner Error 0.003186
/col3 Inner Error 0.003120
/col3 Inner Error 0.001428
Step size too small - Exiting inner loop
/col3 Iteration 2 Outer Error 0.008075
Calculating Jacobian for /col3
Calculating disturbance 10 of 121 in jacobian of /col3
Calculating disturbance 20 of 121 in jacobian of /col3
Calculating disturbance 30 of 121 in jacobian of /col3
Calculating disturbance 40 of 121 in jacobian of /col3
Calculating disturbance 50 of 121 in jacobian of /col3
Calculating disturbance 60 of 121 in jacobian of /col3
Calculating disturbance 70 of 121 in jacobian of /col3
Calculating disturbance 80 of 121 in jacobian of /col3
Calculating disturbance 90 of 121 in jacobian of /col3
Calculating disturbance 100 of 121 in jacobian of /col3
Calculating disturbance 110 of 121 in jacobian of /col3
Calculating disturbance 120 of 121 in jacobian of /col3
/col3 Inner Error 0.621855
/col3 Inner Error 0.619115
/col3 Inner Error 0.618974
/col3 Inner Error 0.618930
/col3 Inner Error 0.615252
/col3 Inner Error 0.611000
/col3 Inner Error 0.223960
/col3 Inner Error 0.198495
Step size too small - Exiting inner loop
/col3 Iteration 3 Outer Error 0.003466
Calculating Jacobian for /col3
Calculating disturbance 10 of 121 in jacobian of /col3
Calculating disturbance 20 of 121 in jacobian of /col3
Calculating disturbance 30 of 121 in jacobian of /col3
Calculating disturbance 40 of 121 in jacobian of /col3
Calculating disturbance 50 of 121 in jacobian of /col3
Calculating disturbance 60 of 121 in jacobian of /col3
Calculating disturbance 70 of 121 in jacobian of /col3
Calculating disturbance 80 of 121 in jacobian of /col3
Calculating disturbance 90 of 121 in jacobian of /col3
Calculating disturbance 100 of 121 in jacobian of /col3
Calculating disturbance 110 of 121 in jacobian of /col3
Calculating disturbance 120 of 121 in jacobian of /col3
/col3 Inner Error 0.408348
Inner loop is not changing significantly - exiting
/col3 Iteration 4 Outer Error 0.002882
Calculating Jacobian for /col3
Calculating disturbance 10 of 121 in jacobian of /col3
Calculating disturbance 20 of 121 in jacobian of /col3
Calculating disturbance 30 of 121 in jacobian of /col3
Calculating disturbance 40 of 121 in jacobian of /col3
Calculating disturbance 50 of 121 in jacobian of /col3
Calculating disturbance 60 of 121 in jacobian of /col3
Calculating disturbance 70 of 121 in jacobian of /col3
Calculating disturbance 80 of 121 in jacobian of /col3
Calculating disturbance 90 of 121 in jacobian of /col3
Calculating disturbance 100 of 121 in jacobian of /col3
Calculating disturbance 110 of 121 in jacobian of /col3
Calculating disturbance 120 of 121 in jacobian of /col3
/col3 Inner Error 0.531854
Step size too small - Exiting inner loop
/col3 Iteration 5 Outer Error 0.000012
Calculating Jacobian for /col3
Calculating disturbance 10 of 121 in jacobian of /col3
Calculating disturbance 20 of 121 in jacobian of /col3
Calculating disturbance 30 of 121 in jacobian of /col3
Calculating disturbance 40 of 121 in jacobian of /col3
Calculating disturbance 50 of 121 in jacobian of /col3
Calculating disturbance 60 of 121 in jacobian of /col3
Calculating disturbance 70 of 121 in jacobian of /col3
Calculating disturbance 80 of 121 in jacobian of /col3
Calculating disturbance 90 of 121 in jacobian of /col3
Calculating disturbance 100 of 121 in jacobian of /col3
Calculating disturbance 110 of 121 in jacobian of /col3
Calculating disturbance 120 of 121 in jacobian of /col3
/col3 Inner Error 0.534688
/col3 Inner Error 0.534667
/col3 Inner Error 0.534134
/col3 Inner Error 0.533931
/col3 Inner Error 0.533762
/col3 Inner Error 0.533720
/col3 Inner Error 0.533291
/col3 Inner Error 0.532133
/col3 Inner Error 0.530647
/col3 Inner Error 0.524742
/col3 Inner Error 0.276720
/col3 Inner Error 0.199324
/col3 Inner Error 0.104426
/col3 Inner Error 0.095363
/col3 Inner Error 0.059896
/col3 Inner Error 0.027761
/col3 Inner Error 0.024393
/col3 Inner Error 0.008128
/col3 Inner Error 0.002941
/col3 Inner Error 0.001156
/col3 Iteration 6 Outer Error 0.005632
Calculating Jacobian for /col3
Calculating disturbance 10 of 121 in jacobian of /col3
Calculating disturbance 20 of 121 in jacobian of /col3
Calculating disturbance 30 of 121 in jacobian of /col3
Calculating disturbance 40 of 121 in jacobian of /col3
Calculating disturbance 50 of 121 in jacobian of /col3
Calculating disturbance 60 of 121 in jacobian of /col3
Calculating disturbance 70 of 121 in jacobian of /col3
Calculating disturbance 80 of 121 in jacobian of /col3
Calculating disturbance 90 of 121 in jacobian of /col3
Calculating disturbance 100 of 121 in jacobian of /col3
Calculating disturbance 110 of 121 in jacobian of /col3
Calculating disturbance 120 of 121 in jacobian of /col3
/col3 Inner Error 0.009184
/col3 Inner Error 0.004033
/col3 Inner Error 0.001111
/col3 Inner Error 0.000433
/col3 Inner Error 0.000018
/col3 Inner Error 0.000008
Inner loop converged
/col3 Iteration 7 Outer Error 0.003243
/col3 Inner Error 0.044668
/col3 Inner Error 0.009706
/col3 Inner Error 0.003781
/col3 Inner Error 0.003380
Step size too small - Exiting inner loop
/col3 Iteration 8 Outer Error 0.000018
Calculating Jacobian for /col3
Calculating disturbance 10 of 121 in jacobian of /col3
Calculating disturbance 20 of 121 in jacobian of /col3
Calculating disturbance 30 of 121 in jacobian of /col3
Calculating disturbance 40 of 121 in jacobian of /col3
Calculating disturbance 50 of 121 in jacobian of /col3
Calculating disturbance 60 of 121 in jacobian of /col3
Calculating disturbance 70 of 121 in jacobian of /col3
Calculating disturbance 80 of 121 in jacobian of /col3
Calculating disturbance 90 of 121 in jacobian of /col3
Calculating disturbance 100 of 121 in jacobian of /col3
Calculating disturbance 110 of 121 in jacobian of /col3
Calculating disturbance 120 of 121 in jacobian of /col3
/col3 Inner Error 0.001219
/col3 Inner Error 0.001156
/col3 Inner Error 0.000483
/col3 Inner Error 0.000018
/col3 Inner Error 0.000001
Inner loop converged
Calculating Jacobian for /col2
Calculating disturbance 10 of 73 in jacobian of /col2
Calculating disturbance 20 of 73 in jacobian of /col2
Calculating disturbance 30 of 73 in jacobian of /col2
Calculating disturbance 40 of 73 in jacobian of /col2
Calculating disturbance 50 of 73 in jacobian of /col2
Calculating disturbance 60 of 73 in jacobian of /col2
Calculating disturbance 70 of 73 in jacobian of /col2
/col2 Inner Error 0.103909
/col2 Inner Error 0.056940
/col2 Inner Error 0.007958
/col2 Inner Error 0.001152
/col2 Inner Error 0.000228
/col2 Inner Error 0.000056
/col2 Inner Error 0.000008
Inner loop converged
/col2 Iteration 1 Outer Error 0.022677
/col2 Inner Error 0.041489
/col2 Inner Error 0.008454
/col2 Inner Error 0.001169
/col2 Inner Error 0.000199
/col2 Inner Error 0.000046
/col2 Inner Error 0.000006
Inner loop converged
/col2 Iteration 2 Outer Error 0.010321
/col2 Inner Error 0.005715
/col2 Inner Error 0.000696
/col2 Inner Error 0.000038
/col2 Inner Error 0.000004
Inner loop converged
/col2 Iteration 3 Outer Error 0.001600
/col2 Inner Error 0.000277
/col2 Inner Error 0.000016
/col2 Inner Error 0.000002
Inner loop converged
/col2 Iteration 4 Outer Error 0.000371
/col2 Inner Error 0.000037
/col2 Inner Error 0.000004
Inner loop converged
/col2 Iteration 5 Outer Error 0.000070
/col2 Inner Error 0.000001
Inner loop converged
Iteration 1 -> max Error 0.017335 in /vap_draw2_col2.In.Fraction.ARGON
/col3 Inner Error 0.006494
/col3 Inner Error 0.000670
/col3 Inner Error 0.000118
/col3 Inner Error 0.000010
Inner loop converged
/col3 Iteration 1 Outer Error 0.000243
/col3 Inner Error 0.010257
/col3 Inner Error 0.006133
/col3 Inner Error 0.002018
/col3 Inner Error 0.000137
/col3 Inner Error 0.000001
Inner loop converged
/col3 Iteration 2 Outer Error 0.000002
/col3 Inner Error 0.000018
/col3 Inner Error 0.000000
Inner loop converged
/col2 Inner Error 0.003116
/col2 Inner Error 0.000182
/col2 Inner Error 0.000036
/col2 Inner Error 0.000013
/col2 Inner Error 0.000002
Inner loop converged
/col2 Iteration 1 Outer Error 0.005535
/col2 Inner Error 0.001064
/col2 Inner Error 0.000129
/col2 Inner Error 0.000017
/col2 Inner Error 0.000003
Inner loop converged
/col2 Iteration 2 Outer Error 0.000922
/col2 Inner Error 0.000085
/col2 Inner Error 0.000004
Inner loop converged
/col2 Iteration 3 Outer Error 0.000250
/col2 Inner Error 0.000005
Inner loop converged
/col2 Iteration 4 Outer Error 0.000053
/col2 Inner Error 0.000001
Inner loop converged
Iteration 2 -> max Error 0.003567 in /vap_draw2_col2.In.Fraction.ARGON
/col3 Inner Error 0.000941
/col3 Inner Error 0.000099
/col3 Inner Error 0.000021
/col3 Inner Error 0.000000
Inner loop converged
/col3 Iteration 1 Outer Error 0.000011
/col3 Inner Error 0.001112
/col3 Inner Error 0.000261
/col3 Inner Error 0.000002
Inner loop converged
/col2 Inner Error 0.000222
/col2 Inner Error 0.000028
/col2 Inner Error 0.000002
Inner loop converged
/col2 Iteration 1 Outer Error 0.001306
/col2 Inner Error 0.000118
/col2 Inner Error 0.000007
Inner loop converged
/col2 Iteration 2 Outer Error 0.000216
/col2 Inner Error 0.000007
Inner loop converged
/col2 Iteration 3 Outer Error 0.000061
/col2 Inner Error 0.000003
Inner loop converged
Iteration 3 -> max Error 0.000695 in /vap_draw2_col2.In.Fraction.OXYGEN
/col3 Inner Error 0.000167
/col3 Inner Error 0.000010
Inner loop converged
/col3 Iteration 1 Outer Error 0.000002
/col3 Inner Error 0.000227
/col3 Inner Error 0.000039
/col3 Inner Error 0.000000
Inner loop converged
/col2 Inner Error 0.000051
/col2 Inner Error 0.000004
Inner loop converged
/col2 Iteration 1 Outer Error 0.000338
/col2 Inner Error 0.000013
/col2 Inner Error 0.000001
Inner loop converged
/col2 Iteration 2 Outer Error 0.000056
/col2 Inner Error 0.000002
Inner loop converged
Iteration 4 -> max Error 1.000000 in /vap_draw2_col2.In.VapFrac
/col3 Inner Error 0.000522
/col3 Inner Error 0.000008
Inner loop converged
/col3 Iteration 1 Outer Error 0.000002
/col3 Inner Error 0.000110
/col3 Inner Error 0.000012
/col3 Inner Error 0.000000
Inner loop converged
/col2 Inner Error 0.000021
/col2 Inner Error 0.000001
Inner loop converged
/col2 Iteration 1 Outer Error 0.000259
/col2 Inner Error 0.000006
Inner loop converged
/col2 Iteration 2 Outer Error 0.000042
/col2 Inner Error 0.000001
Inner loop converged
Iteration 5 -> max Error 0.050000 in /vap_draw2_col2.In.VapFrac
/col3 Inner Error 0.000353
/col3 Inner Error 0.000005
Inner loop converged
/col3 Iteration 1 Outer Error 0.000002
/col3 Inner Error 0.000078
/col3 Inner Error 0.000008
Inner loop converged
/col2 Inner Error 0.000001
Inner loop converged
/col2 Iteration 1 Outer Error 0.000249
/col2 Inner Error 0.000005
Inner loop converged
/col2 Iteration 2 Outer Error 0.000041
/col2 Inner Error 0.000001
Inner loop converged
Iteration 6 -> max Error 1.000000 in /vap_draw2_col2.In.VapFrac
/col3 Inner Error 0.000223
/col3 Inner Error 0.000006
Inner loop converged
/col3 Iteration 1 Outer Error 0.000002
/col3 Inner Error 0.000004
Inner loop converged
/col2 Inner Error 0.000001
Inner loop converged
/col2 Iteration 1 Outer Error 0.000257
/col2 Inner Error 0.000006
Inner loop converged
/col2 Iteration 2 Outer Error 0.000043
/col2 Inner Error 0.000001
Inner loop converged
Iteration 7 -> max Error 0.042099 in /vap_draw2_col2.In.VapFrac
/col3 Inner Error 0.000005
Inner loop converged
/col3 Iteration 1 Outer Error 0.000000
/col3 Inner Error 0.000002
Inner loop converged
/col2 Inner Error 0.000000
Inner loop converged
/col2 Iteration 1 Outer Error 0.000003
/col2 Inner Error 0.000001
Inner loop converged
Iteration 8 -> max Error 0.040436 in /vap_draw2_col2.In.VapFrac
/col3 Inner Error 0.000004
Inner loop converged
/col3 Iteration 1 Outer Error 0.000000
/col3 Inner Error 0.000000
Inner loop converged
/col2 Inner Error 0.000000
Inner loop converged
/col2 Iteration 1 Outer Error 0.000010
/col2 Inner Error 0.000000
Inner loop converged
Iteration 9 -> max Error 0.038823 in /vap_draw2_col2.In.VapFrac
/col3 Inner Error 0.000438
/col3 Inner Error 0.000006
Inner loop converged
/col3 Iteration 1 Outer Error 0.000002
/col3 Inner Error 0.000010
Inner loop converged
/col2 Inner Error 0.000002
Inner loop converged
/col2 Iteration 1 Outer Error 0.000324
/col2 Inner Error 0.000006
Inner loop converged
/col2 Iteration 2 Outer Error 0.000056
/col2 Inner Error 0.000002
Inner loop converged
Iteration 10 -> max Error 0.011177 in /vap_draw2_col2.In.VapFrac
/col3 Inner Error 0.000010
/col3 Inner Error 0.000001
Inner loop converged
/col3 Iteration 1 Outer Error 0.000001
/col3 Inner Error 0.000001
Inner loop converged
/col2 Inner Error 0.000001
Inner loop converged
/col2 Iteration 1 Outer Error 0.000105
/col2 Inner Error 0.000003
Inner loop converged
/col2 Iteration 2 Outer Error 0.000017
/col2 Inner Error 0.000000
Inner loop converged
Iteration 11 -> max Error 0.007771 in /vap_draw2_col2.In.VapFrac
/col3 Inner Error 0.000001
Inner loop converged
/col3 Iteration 1 Outer Error 0.000000
/col3 Inner Error 0.000001
Inner loop converged
/col2 Inner Error 0.000000
Inner loop converged
/col2 Iteration 1 Outer Error 0.000034
/col2 Inner Error 0.000001
Inner loop converged
Iteration 12 -> max Error 0.001757 in /vap_draw2_col2.In.VapFrac
/col3 Inner Error 0.000001
Inner loop converged
/col3 Iteration 1 Outer Error 0.000000
/col3 Inner Error 0.000000
Inner loop converged
/col2 Inner Error 0.000000
Inner loop converged
/col2 Iteration 1 Outer Error 0.000013
/col2 Inner Error 0.000000
Inner loop converged
Iteration 13 -> max Error 0.000579 in /vap_draw2_col2.In.VapFrac
/col3 Inner Error 0.000001
Inner loop converged
/col3 Iteration 1 Outer Error 0.000000
/col3 Inner Error 0.000000
Inner loop converged
/col2 Inner Error 0.000000
Inner loop converged
/col2 Iteration 1 Outer Error 0.000007
/col2 Inner Error 0.000000
Inner loop converged
Iteration 14 -> max Error 0.000110 in /vap_draw2_col2.In.VapFrac
/col3 Inner Error 0.000000
Inner loop converged
/col3 Iteration 1 Outer Error 0.000000
/col3 Inner Error 0.000000
Inner loop converged
/col2 Inner Error 0.000000
Inner loop converged
/col2 Iteration 1 Outer Error 0.000001
/col2 Inner Error 0.000000
Inner loop converged
Iteration 15 -> max Error 0.000078 in /vap_draw2_col2.In.VapFrac
>> cd ..
/
>> 
>> # Purified Nitrogen Product
>> ovhd_vap_col2.Out
Port: /ovhd_vap_col2.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 1.0 = 
T                  = -194.4295172491106 = C
P                  = 120.0 = kPa
MoleFlow           = 2036.1923007247901 = kgmole/h
MassFlow           = 57040.67073376248 = kg/h
VolumeFlow         = 10587.746570238885 = m3/hr
StdLiqVolumeFlow   = 70.94093904684087 = m3/hr
H                  = -6468.640632913596 = kJ/kmol
Energy             = -3658721.1813594997 = W
MolecularWeight    = 28.01340044719885 = 
ZFactor            = 0.953331753529179 = 
NITROGEN           = 0.9999999406414614 = 
OXYGEN             = 6.539039937911466e-09 = 
ARGON              = 5.281949873754892e-08 = 

>> 
>> # Purified Oxygen Product
>> btm_liq_col2.Out
Port: /btm_liq_col2.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = -180.279979084273 = C
P                  = 135.0 = kPa
MoleFlow           = 1743.816536399537 = kgmole/h
MassFlow           = 55938.65556316156 = kg/h
VolumeFlow         = 43.926913019412794 = m3/hr
StdLiqVolumeFlow   = 48.58708849677975 = m3/hr
H                  = -12716.870934820641 = kJ/kmol
Energy             = -6159969.396499687 = W
MolecularWeight    = 32.07829172136323 = 
ZFactor            = 0.004404067153418456 = 
NITROGEN           = 2.4676275881656055e-08 = 
OXYGEN             = 0.99 = 
ARGON              = 0.009999977339644679 = 

>> 
>> # Pure Argon Product
>> ovhd_liq_col3.Out
Port: /ovhd_liq_col3.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = -184.33399872048187 = C
P                  = 120.0 = kPa
MoleFlow           = 11.216943156753334 = kgmole/h
MassFlow           = 448.0943560598029 = kg/h
VolumeFlow         = 0.28285543154172443 = m3/hr
StdLiqVolumeFlow   = 0.32641303184056186 = m3/hr
H                  = -10771.315514379006 = kJ/kmol
Energy             = -33561.453846734614 = W
MolecularWeight    = 39.94799205066429 = 
ZFactor            = 0.004097753674638549 = 
NITROGEN           = 3.397294860359562e-12 = 
OXYGEN             = 1e-06 = 
ARGON              = 0.9999989999970715 = 

>> 
>> # Liquid recycle back to Col2
>> btm_liq_col3.Out
Port: /btm_liq_col3.Out + sim21.solver.Ports.Port_Material
Connected to: /col2.Feed_56_f
VapFrac            = 0.0 = 
T                  = -180.78059701144923 = C
P                  = 130.0 = kPa
MoleFlow           = 798.7830591112476 = kgmole/h
MassFlow           = 25845.90817359747 = kg/h
VolumeFlow         = 20.087718461760787 = m3/hr
StdLiqVolumeFlow   = 22.291051212815937 = m3/hr
H                  = -12667.991155657617 = kJ/kmol
Energy             = -2810826.868919561 = W
MolecularWeight    = 32.35660531193346 = 
ZFactor            = 0.004256795608604147 = 
NITROGEN           = 3.3972946322298084e-12 = 
OXYGEN             = 0.9549885130492155 = 
ARGON              = 0.0450114869473871 = 

>> 
>> # Vapor recycle to Col3
>> vap_draw2_col2.Out
Port: /vap_draw2_col2.Out + sim21.solver.Ports.Port_Material
Connected to: /col3.Feed_120_f
VapFrac            = 1.0000781070728104 = 
T                  = -180.60902636443205 = C
P                  = 132.21428571428572 = kPa
MoleFlow           = 810.0000022680001 = kgmole/h
MassFlow           = 26294.002529657282 = kg/h
VolumeFlow         = 4537.284064121317 = m3/hr
StdLiqVolumeFlow   = 22.617464244656485 = m3/hr
H                  = -5954.242491262556 = kJ/kmol
Energy             = -1339704.564285248 = W
MolecularWeight    = 32.461739602382146 = 
ZFactor            = 0.9625450906790018 = 
NITROGEN           = 3.3972946353889755e-12 = 
OXYGEN             = 0.9417637715439162 = 
ARGON              = 0.05823622845268654 = 

