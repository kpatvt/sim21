optimizecode 1
maxversions 0
units SI
/LiquidPhases = 2
/StdLiqVolRefT = 288.15 
/StdLiqVolRefT = 60 F
/RecycleDetails = 1
displayproperties VapFrac T P MoleFlow MassFlow VolumeFlow StdLiqVolumeFlow StdGasVolumeFlow Energy H S MolecularWeight MassDensity Cp ThermalConductivity Viscosity molarV ZFactor S
commonproperties + ZFactor P T MolecularWeight MassDensity StdLiqMolarVolVapFrac T P MoleFlow MassFlow VolumeFlow StdLiqVolumeFlow StdGasVolumeFlow Energy H S MolecularWeight MassDensity Cp ThermalConductivity Viscosity molarV ZFactor S
$VMGThermo = VirtualMaterials.Advanced_Peng-Robinson
/ -> $VMGThermo
/SolidPhases = 0
$VMGThermo + NITROGEN CARBON_DIOXIDE METHANE ETHANE PROPANE ISOBUTANE n-BUTANE ISOPENTANE n-PENTANE n-HEXANE
$VMGThermo
$VMGThermo + n-HEPTANE  n-OCTANE n-NONANE n-DECANE n-UNDECANE n-DODECANE n-TRIDECANE n-TETRADECANE n-PENTADECANE
$VMGThermo + n-HEXADECANE n-HEPTADECANE n-OCTADECANE n-NONADECANE WATER TRIETHYLENE_GLYCOL


/S1 = Stream.Stream_Material()
'/S1.In.Fraction' =   6.31739960943069E-03  1.78491608012486E-02  .776137666301484  9.30061609166184E-02  3.33919693641336E-02  6.9992776625121E-03  1.04989164937681E-02  5.60042489185243E-03  4.30034416270531E-03  6.40052856619604E-03  7.40038239961881E-03  7.90066028297515E-03  5.40046415278631E-03  3.90033644705459E-03  2.60022162400481E-03  2.09577225138256E-03  1.70008242822679E-03  1.30008072914712E-03  1.20010537342328E-03  9.00079030067458E-04  6.9992776625121E-04  6.00052686711638E-04  4.9977650243496E-04  3.30020955596659E-03  0


#An evelope
/Env1 = Envelope.PTEnvelope("InitPressures = 1000 2000 3000 4000 5000 6000 7000 8000 9000 10000 11000 12000")
/Env1.In -> /S1.Out
/Env1.Q1.Results

#Add hydrate curve
/Env1.Hydrate = 1
/Env1.Q1.Results
/Env1.HydrateResults


#Add TEG
'/S1.In.Fraction' =   3.15869980471534E-03  8.9245804006243E-03  .388068833150742  4.65030804583092E-02  1.66959846820668E-02  3.49963883125605E-03  5.24945824688405E-03  2.80021244592621E-03  2.15017208135265E-03  3.20026428309802E-03  3.7001911998094E-03  3.95033014148757E-03  2.70023207639315E-03  1.95016822352729E-03  1.3001108120024E-03  1.04788612569128E-03  8.50041214113395E-04  6.5004036457356E-04  6.0005268671164E-04  4.50039515033729E-04  3.49963883125605E-04  3.00026343355819E-04  2.4988825121748E-04  1.65010477798329E-03  .5
/Env1.Q1.Results
/Env1.HydrateResults


#Remove TEG
'/S1.In.Fraction' =   6.31739960943068E-03  1.78491608012486E-02  .776137666301484  9.30061609166184E-02  3.33919693641336E-02  6.9992776625121E-03  1.04989164937681E-02  5.60042489185242E-03  4.3003441627053E-03  6.40052856619604E-03  7.4003823996188E-03  7.90066028297514E-03  5.4004641527863E-03  3.90033644705458E-03  2.6002216240048E-03  2.09577225138256E-03  1.70008242822679E-03  1.30008072914712E-03  1.20010537342328E-03  9.00079030067458E-04  6.9992776625121E-04  6.00052686711638E-04  4.9977650243496E-04  3.30020955596658E-03  0
/Env1.Q1.Results
/Env1.HydrateResults


#Only N2
'/S1.In.Fraction' =   1  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
/Env1.Q1.Results
/Env1.HydrateResults

#All normalized
'/S1.In.Fraction' =   4.34782608695652E-02  4.34782608695652E-02  4.34782608695652E-02  4.34782608695652E-02  4.34782608695652E-02  4.34782608695652E-02  4.34782608695652E-02  4.34782608695652E-02  0  4.34782608695652E-02  4.34782608695652E-02  4.34782608695652E-02  4.34782608695652E-02  4.34782608695652E-02  4.34782608695652E-02  4.34782608695652E-02  4.34782608695652E-02  4.34782608695652E-02  4.34782608695652E-02  4.34782608695652E-02  4.34782608695652E-02  4.34782608695652E-02  4.34782608695652E-02  4.34782608695652E-02  0
/Env1.Q1.Results
/Env1.HydrateResults


cd /
copy /
paste /
/RootClone.Env1.HydrateResults