>> # Depeopanizer test (from old Hysim manual)
>> units Field
>> $thermo = Sim21Thermo.Peng-Robinson
pkgName: Peng-Robinson
>> / -> $thermo
Thermo case attached to a unit operation. / to /thermo
>> thermo + Methane Ethane PROPANE
Methane Ethane PROPANE 
>> thermo + ISOBUTANE n-BUTANE ISOPENTANE n-PENTANE n-Hexane
ISOBUTANE n-BUTANE ISOPENTANE n-PENTANE n-Hexane 
>> thermo + n-Heptane n-Octane
n-Heptane n-Octane 
>> 
>> deprop = Tower.Tower()
>> deprop.Stage_0 + 18  # twenty stages`
>> 
>> cd deprop.Stage_0
/deprop.Stage_0
>> 
>> v = Tower.VapourDraw()
>> v.Port.P = 200
>> v.Port.Fraction.ISOBUTANE = .01
>> 
>> cond = Tower.EnergyFeed(0)
>> 
>> estT = Tower.Estimate('T')
>> estT.Value = 25
>> 
>> cd ../Stage_9
/deprop.Stage_9
>> f = Tower.Feed()
>> f.Port.T = 50
>> f.Port.P = 480
>> f.Port.MoleFlow = 1000
>> f.Port.Fraction = .1702 .1473 .1132 .1166 .1066 .0963 .0829 .0694 .0558 .0417
>> f.Port
Port: /deprop.Feed_9_f + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0012160707513159594 = 
T                  = 49.99999999999999 * F
P                  = 480.0 * psia
MoleFlow           = 1000.0000000000001 * lbmole/h
MassFlow           = 54388.326918000006 = lb/h
VolumeFlow         = 0.41581234564493885 = ft3/s
StdLiqVolumeFlow   = 0.39667686847159 = ft3/s
H                  = -62299.579667023754 = Btu/lbmol
Energy             = -62289103.30841242 = Btu/hr
MolecularWeight    = 54.388326918 = 
ZFactor            = 0.13136681933415006 = 
METHANE            = 0.17020000000000002 * 
ETHANE             = 0.14730000000000001 * 
PROPANE            = 0.11320000000000001 * 
ISOBUTANE          = 0.11660000000000001 * 
N-BUTANE           = 0.10660000000000001 * 
ISOPENTANE         = 0.09630000000000001 * 
N-PENTANE          = 0.08290000000000002 * 
N-HEXANE           = 0.06940000000000002 * 
N-HEPTANE          = 0.05580000000000001 * 
N-OCTANE           = 0.04170000000000001 * 

>> 
>> cd ../Stage_19
/deprop.Stage_19
>> l = Tower.LiquidDraw()
>> l.Port.P = 205
>> l.spec = Tower.MoleRecoverySpec()
>> l.spec + PROPANE
>> l.spec.Port.Fraction = .1
>> 
>> reb = Tower.EnergyFeed(1)
>> estT = Tower.Estimate('T')
>> estT.Value = 250
>> 
>> cd ..
/deprop
>> 
>> /overhead = Stream.Stream_Material()
>> /overhead.In -> Stage_0.v.Port
>> 
>> /bottoms = Stream.Stream_Material()
>> /bottoms.In -> Stage_19.l.Port
>> 
>> 
>> TryToRestart = 0 # so each test starts from scratch
>> TryToSolve = 1  # start calculation
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.024454
/deprop Inner Error 0.006961
/deprop Inner Error 0.006276
/deprop Inner Error 0.002766
/deprop Inner Error 0.002760
Inner loop is not changing significantly - exiting
/deprop Iteration 1 Outer Error 0.108301
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.019582
/deprop Inner Error 0.011396
/deprop Inner Error 0.001111
/deprop Inner Error 0.000189
/deprop Inner Error 0.000030
/deprop Inner Error 0.000006
Inner loop converged
/deprop Iteration 2 Outer Error 0.003302
/deprop Inner Error 0.001570
/deprop Inner Error 0.000315
/deprop Inner Error 0.000014
/deprop Inner Error 0.000001
Inner loop converged
/deprop Iteration 3 Outer Error 0.000855
/deprop Inner Error 0.000243
/deprop Inner Error 0.000037
/deprop Inner Error 0.000000
Inner loop converged
/deprop Iteration 4 Outer Error 0.000109
/deprop Inner Error 0.000009
Inner loop converged
/deprop Iteration 5 Outer Error 0.000025
/deprop Inner Error 0.000003
Inner loop converged
>> 
>> /overhead.Out
Port: /overhead.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 1.0 = 
T                  = 24.641777170153123 = F
P                  = 200.0 = psia
MoleFlow           = 423.88160064514653 = lbmole/h
MassFlow           = 11913.794272506328 = lb/h
VolumeFlow         = 2.635982521652725 = ft3/s
StdLiqVolumeFlow   = 0.0931902726717591 = ft3/s
H                  = -37825.92156513203 = Btu/lbmol
Energy             = -16031015.93409088 = Btu/hr
MolecularWeight    = 28.106419208136856 = 
ZFactor            = 0.8614678357371638 = 
METHANE            = 0.40152721822003073 = 
ETHANE             = 0.34749484064160174 = 
PROPANE            = 0.2403493295379337 = 
ISOBUTANE          = 0.01 = 
N-BUTANE           = 0.0006280102410687949 = 
ISOPENTANE         = 1.3447225381435733e-07 = 
N-PENTANE          = 5.952244361701345e-09 = 
N-HEXANE           = 1.5048740158117196e-09 = 
N-HEPTANE          = 1.1548230002249851e-09 = 
N-OCTANE           = 4.977951651407656e-10 = 

>> /bottoms.Out
Port: /bottoms.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 2.1766642619032091e-07 = 
T                  = 256.72070648039636 = F
P                  = 205.0 = psia
MoleFlow           = 576.1183993548531 = lbmole/h
MassFlow           = 42474.52682112943 = lb/h
VolumeFlow         = 0.37945970133953394 = ft3/s
StdLiqVolumeFlow   = 0.30348654835414 = ft3/s
H                  = -68471.97068398303 = Btu/lbmol
Energy             = -39441328.54300183 = Btu/hr
MolecularWeight    = 73.72534338584289 = 
ZFactor            = 0.06322574596125448 = 
METHANE            = 6.648001344355826e-11 = 
ETHANE             = 5.781334030344144e-06 = 
PROPANE            = 0.01964933162028742 = 
ISOBUTANE          = 0.19503107360564387 = 
N-BUTANE           = 0.18456934917001147 = 
ISOPENTANE         = 0.16715304199193107 = 
N-PENTANE          = 0.1438940286749841 = 
N-HEXANE           = 0.12046134863914583 = 
N-HEPTANE          = 0.09685509015677601 = 
N-OCTANE           = 0.07238095474070978 = 

>> 
>> cd Stage_19.l
/deprop.Stage_19.l
>> delete spec
>> spec = Tower.ComponentMoleFlowSpec()
>> spec + PROPANE
>> spec.Port.MoleFlow = 10
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.645877
/deprop Inner Error 0.029087
/deprop Inner Error 0.008646
/deprop Inner Error 0.006367
Step size too small - Exiting inner loop
/deprop Iteration 1 Outer Error 0.096318
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.232883
/deprop Inner Error 0.057213
/deprop Inner Error 0.010300
/deprop Inner Error 0.000459
/deprop Inner Error 0.000029
/deprop Inner Error 0.000001
Inner loop converged
/deprop Iteration 2 Outer Error 0.014278
/deprop Inner Error 0.236434
/deprop Inner Error 0.027637
/deprop Inner Error 0.001278
/deprop Inner Error 0.000112
/deprop Inner Error 0.000001
Inner loop converged
/deprop Iteration 3 Outer Error 0.000824
/deprop Inner Error 0.004294
/deprop Inner Error 0.000191
/deprop Inner Error 0.000004
Inner loop converged
/deprop Iteration 4 Outer Error 0.000196
/deprop Inner Error 0.000347
/deprop Inner Error 0.000037
/deprop Inner Error 0.000002
Inner loop converged
/deprop Iteration 5 Outer Error 0.000019
/deprop Inner Error 0.000015
/deprop Inner Error 0.000003
Inner loop converged
>> /bottoms.Out
Port: /bottoms.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 1.3741502079385324e-08 = 
T                  = 257.3248216917339 = F
P                  = 205.0 = psia
MoleFlow           = 574.7892872917025 = lbmole/h
MassFlow           = 42415.80657408874 = lb/h
VolumeFlow         = 0.37917025081112304 = ft3/s
StdLiqVolumeFlow   = 0.3030426331935883 = ft3/s
H                  = -68491.65635687867 = Btu/lbmol
Energy             = -39361650.1357245 = Btu/hr
MolecularWeight    = 73.79366232800007 = 
ZFactor            = 0.06327025160463493 = 
METHANE            = 6.226815392888222e-11 = 
ETHANE             = 5.131147408199233e-06 = 
PROPANE            = 0.01739766868363195 = 
ISOBUTANE          = 0.1954592778266669 = 
N-BUTANE           = 0.1850043277980565 = 
ISOPENTANE         = 0.16753955873213242 = 
N-PENTANE          = 0.1442267615520433 = 
N-HEXANE           = 0.12073989698314828 = 
N-HEPTANE          = 0.09707905264417137 = 
N-OCTANE           = 0.07254832457047297 = 

>> 
>> delete spec
>> Port.MassFlow = 43000
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.012760
/deprop Inner Error 0.007229
/deprop Inner Error 0.005773
/deprop Inner Error 0.001441
/deprop Inner Error 0.000418
/deprop Inner Error 0.000080
/deprop Inner Error 0.000019
/deprop Inner Error 0.000002
Inner loop converged
/deprop Iteration 1 Outer Error 0.137410
/deprop Inner Error 0.006406
/deprop Inner Error 0.002757
/deprop Inner Error 0.000782
/deprop Inner Error 0.000293
/deprop Inner Error 0.000057
/deprop Inner Error 0.000012
/deprop Inner Error 0.000002
Inner loop converged
/deprop Iteration 2 Outer Error 0.009994
/deprop Inner Error 0.000957
/deprop Inner Error 0.000214
/deprop Inner Error 0.000044
/deprop Inner Error 0.000006
Inner loop converged
/deprop Iteration 3 Outer Error 0.001248
/deprop Inner Error 0.000066
/deprop Inner Error 0.000012
/deprop Inner Error 0.000002
Inner loop converged
/deprop Iteration 4 Outer Error 0.000146
/deprop Inner Error 0.000007
Inner loop converged
/deprop Iteration 5 Outer Error 0.000022
/deprop Inner Error 0.000003
Inner loop converged
>> /bottoms.Out
Port: /bottoms.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 251.50348756403992 = F
P                  = 205.0 = psia
MoleFlow           = 588.004648108067 = lbmole/h
MassFlow           = 43000.0 = lb/h
VolumeFlow         = 0.3821479742603089 = ft3/s
StdLiqVolumeFlow   = 0.3074592254657852 = ft3/s
H                  = -68293.94759601605 = Btu/lbmol
Energy             = -40150405.75680264 = Btu/hr
MolecularWeight    = 73.12867103847056 = 
ZFactor            = 0.06284420477455123 = 
METHANE            = 1.0353676630127298e-10 = 
ETHANE             = 1.2569084830352623e-05 = 
PROPANE            = 0.03929038346776392 = 
ISOBUTANE          = 0.19128961027198949 = 
N-BUTANE           = 0.18080674965723936 = 
ISOPENTANE         = 0.1637741193583233 = 
N-PENTANE          = 0.14098527604958705 = 
N-HEXANE           = 0.11802627705650534 = 
N-HEPTANE          = 0.0948972084436976 = 
N-OCTANE           = 0.07091780650652675 = 

>> 
>> Port.MassFlow = None
>> spec = Tower.ComponentMassFlowSpec()
>> spec + PROPANE
>> spec.Port.MassFlow = 450
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 31.534008
/deprop Inner Error 1.391182
/deprop Inner Error 0.247349
/deprop Inner Error 0.007587
Step size too small - Exiting inner loop
/deprop Iteration 1 Outer Error 0.097158
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 10.778707
/deprop Inner Error 2.826102
/deprop Inner Error 0.488381
/deprop Inner Error 0.016622
/deprop Inner Error 0.000842
/deprop Inner Error 0.000115
/deprop Inner Error 0.000010
/deprop Inner Error 0.000001
Inner loop converged
/deprop Iteration 2 Outer Error 0.014257
/deprop Inner Error 9.667703
/deprop Inner Error 0.727571
/deprop Inner Error 0.135238
/deprop Inner Error 0.004709
/deprop Inner Error 0.000010
/deprop Inner Error 0.000005
Inner loop converged
/deprop Iteration 3 Outer Error 0.000826
/deprop Inner Error 0.222090
/deprop Inner Error 0.002224
/deprop Inner Error 0.000186
/deprop Inner Error 0.000002
Inner loop converged
/deprop Iteration 4 Outer Error 0.000195
/deprop Inner Error 0.018547
/deprop Inner Error 0.000240
/deprop Inner Error 0.000009
Inner loop converged
/deprop Iteration 5 Outer Error 0.000019
/deprop Inner Error 0.002280
/deprop Inner Error 0.000023
/deprop Inner Error 0.000003
Inner loop converged
>> /bottoms.Out
Port: /bottoms.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 1.4153147629814455e-08 = 
T                  = 257.2307116565665 = F
P                  = 205.0 = psia
MoleFlow           = 574.9957135757609 = lbmole/h
MassFlow           = 42424.92600096534 = lb/h
VolumeFlow         = 0.3792149052899569 = ft3/s
StdLiqVolumeFlow   = 0.30311157468285105 = ft3/s
H                  = -68488.60273601543 = Btu/lbmol
Energy             = -39374030.71264785 = Btu/hr
MolecularWeight    = 73.78303003204012 = 
ZFactor            = 0.06326328957033728 = 
METHANE            = 6.293179794253774e-11 = 
ETHANE             = 5.231337441580382e-06 = 
PROPANE            = 0.01774812419071424 = 
ISOBUTANE          = 0.1953926866318347 = 
N-BUTANE           = 0.1849365323671271 = 
ISOPENTANE         = 0.16747941103314617 = 
N-PENTANE          = 0.1441749834346452 = 
N-HEXANE           = 0.120696550775393 = 
N-HEPTANE          = 0.09704420079656981 = 
N-OCTANE           = 0.0725222793701964 = 

>> 
>> delete spec
>> spec = Tower.MassRecoverySpec()
>> spec + PROPANE ETHANE
>> spec.Port.Fraction = .1
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.047349
/deprop Inner Error 0.021536
/deprop Inner Error 0.013876
/deprop Inner Error 0.004587
/deprop Inner Error 0.000497
/deprop Inner Error 0.000185
/deprop Inner Error 0.000027
/deprop Inner Error 0.000008
Inner loop converged
/deprop Iteration 1 Outer Error 0.133383
/deprop Inner Error 0.017381
/deprop Inner Error 0.008574
/deprop Inner Error 0.002186
/deprop Inner Error 0.000399
/deprop Inner Error 0.000116
/deprop Inner Error 0.000014
/deprop Inner Error 0.000002
Inner loop converged
/deprop Iteration 2 Outer Error 0.009596
/deprop Inner Error 0.001596
/deprop Inner Error 0.000468
/deprop Inner Error 0.000190
/deprop Inner Error 0.000013
/deprop Inner Error 0.000007
Inner loop converged
/deprop Iteration 3 Outer Error 0.001235
/deprop Inner Error 0.000290
/deprop Inner Error 0.000021
/deprop Inner Error 0.000007
Inner loop converged
/deprop Iteration 4 Outer Error 0.000153
/deprop Inner Error 0.000010
/deprop Inner Error 0.000002
Inner loop converged
/deprop Iteration 5 Outer Error 0.000016
/deprop Inner Error 0.000002
Inner loop converged
>> /bottoms.Out
Port: /bottoms.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 4.044152626611966e-08 = 
T                  = 252.25580891944034 = F
P                  = 205.0 = psia
MoleFlow           = 586.2449853299497 = lbmole/h
MassFlow           = 42922.192128594055 = lb/h
VolumeFlow         = 0.3817386593856411 = ft3/s
StdLiqVolumeFlow   = 0.306870992438223 = ft3/s
H                  = -68320.5123419255 = Btu/lbmol
Energy             = -40045822.478108175 = Btu/hr
MolecularWeight    = 73.2154529351097 = 
ZFactor            = 0.06289878495135182 = 
METHANE            = 9.770937006643173e-11 = 
ETHANE             = 1.1411144921691333e-05 = 
PROPANE            = 0.036435019142198904 = 
ISOBUTANE          = 0.19183455717312928 = 
N-BUTANE           = 0.18135159227589787 = 
ISOPENTANE         = 0.16426570018128506 = 
N-PENTANE          = 0.1414084549469749 = 
N-HEXANE           = 0.1183805426539244 = 
N-HEPTANE          = 0.09518205023196095 = 
N-OCTANE           = 0.07113067215199742 = 

>> 
>> delete spec
>> spec = Tower.MoleRatioSpec()
>> spec + ETHANE PROPANE / ISOBUTANE n-BUTANE
>> spec.Port.Fraction = 0.05
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.191029
/deprop Inner Error 0.015001
/deprop Inner Error 0.009700
/deprop Inner Error 0.005915
Step size too small - Exiting inner loop
/deprop Iteration 1 Outer Error 0.103370
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.010493
/deprop Inner Error 0.009926
/deprop Inner Error 0.009343
/deprop Inner Error 0.008255
/deprop Inner Error 0.005106
/deprop Inner Error 0.000323
/deprop Inner Error 0.000011
/deprop Inner Error 0.000001
Inner loop converged
/deprop Iteration 2 Outer Error 0.007898
/deprop Inner Error 0.000982
/deprop Inner Error 0.000238
/deprop Inner Error 0.000119
/deprop Inner Error 0.000005
Inner loop converged
/deprop Iteration 3 Outer Error 0.000873
/deprop Inner Error 0.000071
/deprop Inner Error 0.000012
/deprop Inner Error 0.000000
Inner loop converged
/deprop Iteration 4 Outer Error 0.000118
/deprop Inner Error 0.000065
/deprop Inner Error 0.000006
Inner loop converged
/deprop Iteration 5 Outer Error 0.000014
/deprop Inner Error 0.000006
Inner loop converged
>> /bottoms.Out
Port: /bottoms.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 256.8982664150884 = F
P                  = 205.0 = psia
MoleFlow           = 575.7267486150623 = lbmole/h
MassFlow           = 42457.2228777486 = lb/h
VolumeFlow         = 0.37937347227880125 = ft3/s
StdLiqVolumeFlow   = 0.30335573369355634 = ft3/s
H                  = -68477.77846198402 = Btu/lbmol
Energy             = -39417859.08548455 = Btu/hr
MolecularWeight    = 73.74544083504682 = 
ZFactor            = 0.06323870542754262 = 
METHANE            = 6.524974356434491e-11 = 
ETHANE             = 5.588317984759759e-06 = 
PROPANE            = 0.0189870137260759 = 
ISOBUTANE          = 0.19515711427631388 = 
N-BUTANE           = 0.1846971496122848 = 
ISOPENTANE         = 0.16726675175614336 = 
N-PENTANE          = 0.14399191574235198 = 
N-HEXANE           = 0.12054329509862666 = 
N-HEPTANE          = 0.0969209779403921 = 
N-OCTANE           = 0.07243019346457678 = 

>> 
>> delete spec
>> spec = Tower.MassRatioSpec()
>> spec + ETHANE PROPANE / ISOBUTANE n-BUTANE
>> spec.Port.Fraction = 0.05
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.323992
/deprop Inner Error 0.065317
/deprop Inner Error 0.020550
Step size too small - Exiting inner loop
/deprop Iteration 1 Outer Error 0.111424
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.070960
/deprop Inner Error 0.003991
/deprop Inner Error 0.003580
/deprop Inner Error 0.000178
/deprop Inner Error 0.000021
/deprop Inner Error 0.000003
Inner loop converged
/deprop Iteration 2 Outer Error 0.016535
/deprop Inner Error 0.006205
/deprop Inner Error 0.002989
/deprop Inner Error 0.000382
/deprop Inner Error 0.000026
/deprop Inner Error 0.000001
Inner loop converged
/deprop Iteration 3 Outer Error 0.001111
/deprop Inner Error 0.002168
/deprop Inner Error 0.000204
/deprop Inner Error 0.000001
Inner loop converged
/deprop Iteration 4 Outer Error 0.000228
/deprop Inner Error 0.000206
/deprop Inner Error 0.000022
/deprop Inner Error 0.000000
Inner loop converged
/deprop Iteration 5 Outer Error 0.000022
/deprop Inner Error 0.000001
Inner loop converged
>> /bottoms.Out
Port: /bottoms.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 1.8541759074283798e-08 = 
T                  = 255.32165263889024 = F
P                  = 205.0 = psia
MoleFlow           = 579.2340532319961 = lbmole/h
MassFlow           = 42612.22847644545 = lb/h
VolumeFlow         = 0.3801456182826793 = ft3/s
StdLiqVolumeFlow   = 0.3045275909695399 = ft3/s
H                  = -68425.64789382754 = Btu/lbmol
Energy             = -39627800.40387468 = Btu/hr
MolecularWeight    = 73.56651122497087 = 
ZFactor            = 0.06312260616564638 = 
METHANE            = 7.597748185960307e-11 = 
ETHANE             = 7.3642924228800535e-06 = 
PROPANE            = 0.02488056465500103 = 
ISOBUTANE          = 0.1940362601410608 = 
N-BUTANE           = 0.18356270416017048 = 
ISOPENTANE         = 0.1662539379727323 = 
N-PENTANE          = 0.14312003416940605 = 
N-HEXANE           = 0.1198133967172562 = 
N-HEPTANE          = 0.09633411442603922 = 
N-OCTANE           = 0.07199162338993365 = 

>> 
>> delete spec
>> cd ..
/deprop.Stage_19
>> spec = Tower.ReboilRatioSpec()
>> spec.Port = 2
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.191631
/deprop Inner Error 0.067452
/deprop Inner Error 0.026506
/deprop Inner Error 0.007195
/deprop Inner Error 0.005170
/deprop Inner Error 0.003844
/deprop Inner Error 0.000810
/deprop Inner Error 0.000225
/deprop Inner Error 0.000030
/deprop Inner Error 0.000012
/deprop Inner Error 0.000003
Inner loop converged
/deprop Iteration 1 Outer Error 0.053136
/deprop Inner Error 0.013606
/deprop Inner Error 0.007246
/deprop Inner Error 0.001428
/deprop Inner Error 0.000553
/deprop Inner Error 0.000249
/deprop Inner Error 0.000020
/deprop Inner Error 0.000006
Inner loop converged
/deprop Iteration 2 Outer Error 0.008939
/deprop Inner Error 0.001360
/deprop Inner Error 0.001150
/deprop Inner Error 0.000257
/deprop Inner Error 0.000023
/deprop Inner Error 0.000004
Inner loop converged
/deprop Iteration 3 Outer Error 0.000982
/deprop Inner Error 0.000379
/deprop Inner Error 0.000214
/deprop Inner Error 0.000044
/deprop Inner Error 0.000002
Inner loop converged
/deprop Iteration 4 Outer Error 0.000090
/deprop Inner Error 0.000022
/deprop Inner Error 0.000004
Inner loop converged
>> /bottoms.Out
Port: /bottoms.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 4.522366678578718e-06 = 
T                  = 260.9439593906698 = F
P                  = 205.0 = psia
MoleFlow           = 567.0362561178633 = lbmole/h
MassFlow           = 42073.7637322331 = lb/h
VolumeFlow         = 0.3775651384904944 = ft3/s
StdLiqVolumeFlow   = 0.3004571093048253 = ft3/s
H                  = -68605.36189567905 = Btu/lbmol
Energy             = -38895185.80615652 = Btu/hr
MolecularWeight    = 74.19942424896323 = 
ZFactor            = 0.06354309712067102 = 
METHANE            = 1.2117684678467501e-07 = 
ETHANE             = 1.3202434464214537e-06 = 
PROPANE            = 0.0039911876856241054 = 
ISOBUTANE          = 0.1979955211139386 = 
N-BUTANE           = 0.18764532788734875 = 
ISOPENTANE         = 0.16983032761225336 = 
N-PENTANE          = 0.14619876024881548 = 
N-HEXANE           = 0.1223907605550548 = 
N-HEPTANE          = 0.09840640353941883 = 
N-OCTANE           = 0.07354026993725304 = 

>> spec.Port = None
>> 
>> # SPECIAL PROPERTIES NOT YET SUPPORTED!
>> # cd l
>> # viscosity = Tower.PropertySpec('Viscosity')
>> # viscosity.Port = 0.078
>> # /bottoms.Out
>> 
>> # viscosity.Port = None
>> # speedofsound = Tower.PropertySpec('SpeedOfSound')
>> # speedofsound.Port = 400 m/s
>> # /bottoms.Out
>> # viscosity.Port
>> 
>> 
>> #Test some special properties
>> # speedofsound.Port = None
>> # rvpd323 = Tower.SpecialPropertySpec("ReidVaporPressure_D323")
>> # rvpd323.Port = 33.027
>> # /bottoms.Out
>> # viscosity.Port
>> # speedofsound.Port
>> 
>> # rvpd323.Port = None
>> # kinvisc = Tower.SpecialPropertySpec("KinematicViscosity")
>> # kinvisc.Port = 3.1
>> # /bottoms.Out
>> # viscosity.Port
>> # speedofsound.Port
>> # rvpd323.Port
>> 
>> # copy /deprop /overhead /bottoms
>> # paste /
>> # cd /depropClone.Stage_19.l
>> # /bottomsClone.Out
>> # viscosity.Port
>> # speedofsound.Port
>> # rvpd323.Port
