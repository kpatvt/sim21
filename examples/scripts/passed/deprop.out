>> # Depeopanizer test (from old Hysim manual)
>> units Field
>> $thermo = Sim21Thermo.Peng-Robinson
pkgName: Peng-Robinson
>> / -> $thermo
Thermo case attached to a unit operation. / to /thermo
>> thermo + Methane Ethane PROPANE
Methane Ethane PROPANE 
>> thermo + ISOBUTANE n-BUTANE ISOPENTANE n-PENTANE n-Hexane
ISOBUTANE n-BUTANE ISOPENTANE n-PENTANE n-Hexane 
>> thermo + n-Heptane n-Octane
n-Heptane n-Octane 
>> 
>> deprop = Tower.Tower()
>> deprop.Stage_0 + 18  # twenty stages`
>> 
>> cd deprop.Stage_0
/deprop.Stage_0
>> 
>> v = Tower.VapourDraw()
>> v.Port.P = 200
>> v.Port.Fraction.ISOBUTANE = .01
>> 
>> cond = Tower.EnergyFeed(0)
>> #cond.Port.Energy = 1.667e6
>> 
>> #estReflux = Tower.Estimate('Reflux')
>> #estReflux.Value = .45
>> estT = Tower.Estimate('T')
>> estT.Value = 25
>> 
>> #reflux = Tower.StageSpecification('Reflux')
>> #reflux.Value = .5042
>> 
>> cd ../Stage_9
/deprop.Stage_9
>> f = Tower.Feed()
>> f.Port.T = 50
>> f.Port.P = 480
>> f.Port.MoleFlow = 1000
>> f.Port.Fraction = .1702 .1473 .1132 .1166 .1066 .0963 .0829 .0694 .0558 .0417
>> f.Port
Port: /deprop.Feed_9_f + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0012160576534577289 = 
T                  = 49.99999999999999 * F
P                  = 480.0 * psia
MoleFlow           = 1000.0000000000001 * lbmole/h
MassFlow           = 54388.326918000006 = lb/h
VolumeFlow         = 0.4158123139223912 = ft3/s
StdLiqVolumeFlow   = 0.39667686847159 = ft3/s
H                  = -62299.57969537366 = Btu/lbmol
Energy             = -62289103.33675756 = Btu/hr
MolecularWeight    = 54.388326918 = 
ZFactor            = 0.13136680931210476 = 
METHANE            = 0.17020000000000002 * 
ETHANE             = 0.14730000000000001 * 
PROPANE            = 0.11320000000000001 * 
ISOBUTANE          = 0.11660000000000001 * 
N-BUTANE           = 0.10660000000000001 * 
ISOPENTANE         = 0.09630000000000001 * 
N-PENTANE          = 0.08290000000000002 * 
N-HEXANE           = 0.06940000000000002 * 
N-HEPTANE          = 0.05580000000000001 * 
N-OCTANE           = 0.04170000000000001 * 

>> 
>> #estT = Tower.Estimate('T')
>> #estT.Value = 100
>> 
>> cd ../Stage_19
/deprop.Stage_19
>> l = Tower.LiquidDraw()
>> l.Port.P = 205
>> l.Port.Fraction.PROPANE = .02
>> 
>> reb = Tower.EnergyFeed(1)
>> #reb.Port.Energy = 8.42e6
>> estT = Tower.Estimate('T')
>> estT.Value = 250
>> 
>> cd ..
/deprop
>> 
>> /overhead = Stream.Stream_Material()
>> /overhead.In -> Stage_0.v.Port
>> 
>> /bottoms = Stream.Stream_Material()
>> /bottoms.In -> Stage_19.l.Port
>> 
>> 
>> 
>> TryToSolve = 1  # start calculation
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.012860
/deprop Inner Error 0.006832
/deprop Inner Error 0.006678
/deprop Inner Error 0.003165
/deprop Inner Error 0.000681
/deprop Inner Error 0.000239
/deprop Inner Error 0.000058
/deprop Inner Error 0.000008
Inner loop converged
/deprop Iteration 1 Outer Error 0.108172
/deprop Inner Error 0.004526
/deprop Inner Error 0.001723
/deprop Inner Error 0.000432
/deprop Inner Error 0.000138
/deprop Inner Error 0.000028
/deprop Inner Error 0.000005
Inner loop converged
/deprop Iteration 2 Outer Error 0.006766
/deprop Inner Error 0.000600
/deprop Inner Error 0.000142
/deprop Inner Error 0.000025
/deprop Inner Error 0.000005
Inner loop converged
/deprop Iteration 3 Outer Error 0.001283
/deprop Inner Error 0.000058
/deprop Inner Error 0.000006
Inner loop converged
/deprop Iteration 4 Outer Error 0.000129
/deprop Inner Error 0.000011
/deprop Inner Error 0.000003
Inner loop converged
/deprop Iteration 5 Outer Error 0.000014
/deprop Inner Error 0.000002
Inner loop converged
>> 
>> /overhead.Out
Port: /overhead.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.999996530863219 = 
T                  = 24.580602670090283 = F
P                  = 200.0 = psia
MoleFlow           = 423.6734232268661 = lbmole/h
MassFlow           = 11904.606872168857 = lb/h
VolumeFlow         = 2.6344298025390143 = ft3/s
StdLiqVolumeFlow   = 0.09312080958890798 = ft3/s
H                  = -37822.335677769195 = Btu/lbmol
Energy             = -16021623.76588294 = Btu/hr
MolecularWeight    = 28.09854481924385 = 
ZFactor            = 0.8614922512399985 = 
METHANE            = 0.4017245138130373 = 
ETHANE             = 0.3476654447805084 = 
PROPANE            = 0.2399815758657627 = 
ISOBUTANE          = 0.01 = 
N-BUTANE           = 0.0006297012770554387 = 
ISOPENTANE         = 1.3466684847429052e-07 = 
N-PENTANE          = 5.953728168815771e-09 = 
N-HEXANE           = 1.496154796687969e-09 = 
N-HEPTANE          = 1.1452613517077417e-09 = 
N-OCTANE           = 4.930823076433174e-10 = 

>> /bottoms.Out
Port: /bottoms.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 3.0166031853868946e-06 = 
T                  = 256.62671277371487 = F
P                  = 205.0 = psia
MoleFlow           = 576.3265767731338 = lbmole/h
MassFlow           = 42483.727306754634 = lb/h
VolumeFlow         = 0.3795171721688105 = ft3/s
StdLiqVolumeFlow   = 0.303556134596017 = ft3/s
H                  = -68468.85925640282 = Btu/lbmol
Energy             = -39453787.5672031 = Btu/hr
MolecularWeight    = 73.714676749514 = 
ZFactor            = 0.06322077512488763 = 
METHANE            = 6.711816056222231e-11 = 
ETHANE             = 5.8835949750358955e-06 = 
PROPANE            = 0.02 = 
ISOBUTANE          = 0.19496558852225684 = 
N-BUTANE           = 0.1845016637957281 = 
ISOPENTANE         = 0.16709266382338453 = 
N-PENTANE          = 0.1438420520908868 = 
N-HEXANE           = 0.12041783628076155 = 
N-HEPTANE          = 0.09682010471772573 = 
N-OCTANE           = 0.07235480970628394 = 

>> 
>> 
>> # Now lets do some vol flow specs
>> # commonproperties + VolumeFlow StdLiqMolarVol
>> # displayproperties + StdLiqMolarVol StdLiqVolumeFlow
>> 
>> TryToSolve = 1
/deprop Inner Error 0.000001
Inner loop converged
/deprop Iteration 1 Outer Error 0.000007
/deprop Inner Error 0.000000
Inner loop converged
>> TryToRestart = 1
/deprop Inner Error 0.000000
Inner loop converged
/deprop Iteration 1 Outer Error 0.000001
/deprop Inner Error 0.000000
Inner loop converged
>> 
>> #Delete fractions
>> /deprop.LiquidDraw_19_l.Fraction = None None None None None None None None None None
>> /deprop.LiquidDraw_19_l.StdLiqVolumeFlow = 0.304
/deprop Inner Error 0.000446
/deprop Inner Error 0.000090
/deprop Inner Error 0.000023
/deprop Inner Error 0.000001
Inner loop converged
/deprop Iteration 1 Outer Error 0.002030
/deprop Inner Error 0.000458
/deprop Inner Error 0.000147
/deprop Inner Error 0.000021
/deprop Inner Error 0.000003
Inner loop converged
/deprop Iteration 2 Outer Error 0.000271
/deprop Inner Error 0.000031
/deprop Inner Error 0.000002
Inner loop converged
/deprop Iteration 3 Outer Error 0.000035
/deprop Inner Error 0.000002
Inner loop converged
>> /overhead.Out
Port: /overhead.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 1.0 = 
T                  = 24.197156799438687 = F
P                  = 200.0 = psia
MoleFlow           = 422.3437209386715 = lbmole/h
MassFlow           = 11845.830739693749 = lb/h
VolumeFlow         = 2.62464453127234 = ft3/s
StdLiqVolumeFlow   = 0.09267646707403107 = ft3/s
H                  = -37798.94971528004 = Btu/lbmol
Energy             = -15961464.52331084 = Btu/hr
MolecularWeight    = 28.04784314101487 = 
ZFactor            = 0.8616768851519904 = 
METHANE            = 0.40298925541467856 = 
ETHANE             = 0.3487590994228711 = 
PROPANE            = 0.23760977864580457 = 
ISOBUTANE          = 0.01 = 
N-BUTANE           = 0.000640798277461991 = 
ISOPENTANE         = 1.3597116616119136e-07 = 
N-PENTANE          = 5.967272955807496e-09 = 
N-HEXANE           = 1.4476046936926141e-09 = 
N-HEPTANE          = 1.0914781845118868e-09 = 
N-OCTANE           = 4.664507362500622e-10 = 

>> /bottoms.Out
Port: /bottoms.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 1.3191452548800654e-06 = 
T                  = 256.02713434186154 = F
P                  = 205.0 = psia
MoleFlow           = 577.6562790613284 = lbmole/h
MassFlow           = 42542.484450873184 = lb/h
VolumeFlow         = 0.37980153331111877 = ft3/s
StdLiqVolumeFlow   = 0.304 = ft3/s
H                  = -68449.12611385912 = Btu/lbmol
Energy             = -39533418.39927916 = Btu/hr
MolecularWeight    = 73.64670997777995 = 
ZFactor            = 0.06317538934228646 = 
METHANE            = 3.180067577439846e-08 = 
ETHANE             = 6.551021189782147e-06 = 
PROPANE            = 0.022239872431046102 = 
ISOBUTANE          = 0.1945381309198016 = 
N-BUTANE           = 0.18407029703530137 = 
ISOPENTANE         = 0.1667080339365753 = 
N-PENTANE          = 0.14351094324547017 = 
N-HEXANE           = 0.1201406474822465 = 
N-HEPTANE          = 0.09659723534849154 = 
N-OCTANE           = 0.07218825677920192 = 

>> 
>> /deprop.LiquidDraw_19_l.StdLiqVolumeFlow =
>> /deprop.VapourDraw_0_v.VolumeFlow = 2.0
/deprop Inner Error 0.631895
/deprop Inner Error 0.422729
/deprop Inner Error 0.053411
Step size too small - Exiting inner loop
/deprop Iteration 1 Outer Error 0.126068
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.252808
/deprop Inner Error 0.234076
/deprop Inner Error 0.227692
/deprop Inner Error 0.226610
/deprop Inner Error 0.226237
/deprop Inner Error 0.226227
/deprop Inner Error 0.226213
/deprop Inner Error 0.226174
/deprop Inner Error 0.226171
Inner loop is not changing significantly - exiting
/deprop Iteration 2 Outer Error 0.286078
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.499226
/deprop Inner Error 0.453744
/deprop Inner Error 0.173627
/deprop Inner Error 0.056604
/deprop Inner Error 0.044245
/deprop Inner Error 0.006661
/deprop Inner Error 0.005724
/deprop Inner Error 0.001964
/deprop Inner Error 0.001049
/deprop Inner Error 0.000438
/deprop Inner Error 0.000016
/deprop Inner Error 0.000016
Inner loop is not changing significantly - exiting
/deprop Iteration 3 Outer Error 0.077841
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.052109
/deprop Inner Error 0.007566
Step size too small - Exiting inner loop
/deprop Iteration 4 Outer Error 0.015043
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.025130
/deprop Inner Error 0.001938
/deprop Inner Error 0.000178
/deprop Inner Error 0.000100
/deprop Inner Error 0.000018
/deprop Inner Error 0.000007
Inner loop converged
/deprop Iteration 5 Outer Error 0.029778
/deprop Inner Error 0.066171
/deprop Inner Error 0.006830
/deprop Inner Error 0.006532
/deprop Inner Error 0.001271
/deprop Inner Error 0.000365
/deprop Inner Error 0.000039
/deprop Inner Error 0.000004
Inner loop converged
/deprop Iteration 6 Outer Error 0.006547
/deprop Inner Error 0.000945
/deprop Inner Error 0.000161
/deprop Inner Error 0.000019
/deprop Inner Error 0.000003
Inner loop converged
/deprop Iteration 7 Outer Error 0.001747
/deprop Inner Error 0.000075
/deprop Inner Error 0.000008
Inner loop converged
/deprop Iteration 8 Outer Error 0.000404
/deprop Inner Error 0.000010
Inner loop converged
/deprop Iteration 9 Outer Error 0.000097
/deprop Inner Error 0.000006
Inner loop converged
>> /overhead.Out
Port: /overhead.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.9999998840729358 = 
T                  = -10.790329412402384 = F
P                  = 200.0 = psia
MoleFlow           = 343.95425996606923 = lbmole/h
MassFlow           = 8390.46390794753 = lb/h
VolumeFlow         = 2.0 = ft3/s
StdLiqVolumeFlow   = 0.06656966778862351 = ft3/s
H                  = -36168.589443284596 = Btu/lbmol
Energy             = -12438248.436097542 = Btu/hr
MolecularWeight    = 24.394126895590002 = 
ZFactor            = 0.8690890336310924 = 
METHANE            = 0.4948330713609306 = 
ETHANE             = 0.425876901590481 = 
PROPANE            = 0.06833048904994656 = 
ISOBUTANE          = 0.01 = 
N-BUTANE           = 0.0009597029927570221 = 
ISOPENTANE         = 8.896821086409133e-08 = 
N-PENTANE          = 2.4068373974958235e-09 = 
N-HEXANE           = 1.3350473267453973e-10 = 
N-HEPTANE          = 4.865379553848141e-11 = 
N-OCTANE           = 1.3515160759366393e-11 = 

>> /bottoms.Out
Port: /bottoms.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 2.195054539229645e-06 = 
T                  = 226.49654159698704 = F
P                  = 205.0 = psia
MoleFlow           = 656.0457400339312 = lbmole/h
MassFlow           = 45997.865986439196 = lb/h
VolumeFlow         = 0.3999648721415601 = ft3/s
StdLiqVolumeFlow   = 0.3301072245817494 = ft3/s
H                  = -67249.22124692134 = Btu/lbmol
Energy             = -44111146.098324746 = Btu/hr
MolecularWeight    = 70.11380941831915 = 
ZFactor            = 0.06110098113231287 = 
METHANE            = 8.708739417223592e-08 = 
ETHANE             = 0.0012465982581660593 = 
PROPANE            = 0.1367243649826416 = 
ISOBUTANE          = 0.17248880488280485 = 
N-BUTANE           = 0.16198551348240256 = 
ISOPENTANE         = 0.14678849891476192 = 
N-PENTANE          = 0.1263631392040902 = 
N-HEXANE           = 0.10578530690633105 = 
N-HEPTANE          = 0.08505504506496654 = 
N-OCTANE           = 0.06356264121644116 = 

>> 
>> TryToRestart = 0  #Keep last solution and ramp it up
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.457164
/deprop Inner Error 0.020738
/deprop Inner Error 0.016422
/deprop Inner Error 0.008697
/deprop Inner Error 0.003834
/deprop Inner Error 0.002901
/deprop Inner Error 0.001287
/deprop Inner Error 0.000090
/deprop Inner Error 0.000028
/deprop Inner Error 0.000007
Inner loop converged
/deprop Iteration 1 Outer Error 0.343108
/deprop Inner Error 0.118486
/deprop Inner Error 0.033829
/deprop Inner Error 0.009888
/deprop Inner Error 0.009478
/deprop Inner Error 0.006788
/deprop Inner Error 0.006782
Inner loop is not changing significantly - exiting
/deprop Iteration 2 Outer Error 0.055877
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.043747
/deprop Inner Error 0.026861
/deprop Inner Error 0.016506
/deprop Inner Error 0.000947
/deprop Inner Error 0.000296
/deprop Inner Error 0.000042
/deprop Inner Error 0.000015
/deprop Inner Error 0.000003
Inner loop converged
/deprop Iteration 3 Outer Error 0.004674
/deprop Inner Error 0.016112
/deprop Inner Error 0.004139
/deprop Inner Error 0.000203
/deprop Inner Error 0.000029
/deprop Inner Error 0.000006
Inner loop converged
/deprop Iteration 4 Outer Error 0.001059
/deprop Inner Error 0.000535
/deprop Inner Error 0.000064
/deprop Inner Error 0.000011
/deprop Inner Error 0.000001
Inner loop converged
/deprop Iteration 5 Outer Error 0.000245
/deprop Inner Error 0.000095
Inner loop is not changing significantly - exiting
/deprop Iteration 6 Outer Error 0.000067
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.000000
Inner loop converged
>> # Appears the thermo will limit us from getting the 2.8 in the
>> # original simulation, changed to 2.71 for testing.
>> /deprop.VapourDraw_0_v.VolumeFlow = 2.71
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.036310
/deprop Inner Error 0.016664
/deprop Inner Error 0.005895
/deprop Inner Error 0.002693
/deprop Inner Error 0.001635
/deprop Inner Error 0.000078
/deprop Inner Error 0.000008
Inner loop converged
/deprop Iteration 1 Outer Error 0.053567
/deprop Inner Error 0.034117
/deprop Inner Error 0.015417
/deprop Inner Error 0.002081
/deprop Inner Error 0.002078
Inner loop is not changing significantly - exiting
/deprop Iteration 2 Outer Error 0.022401
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.088749
/deprop Inner Error 0.050685
Step size too small - Exiting inner loop
/deprop Iteration 3 Outer Error 0.007476
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.106292
/deprop Inner Error 0.044561
/deprop Inner Error 0.014422
/deprop Inner Error 0.002043
Step size too small - Exiting inner loop
/deprop Iteration 4 Outer Error 0.009812
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.009124
/deprop Inner Error 0.001812
/deprop Inner Error 0.000588
/deprop Inner Error 0.000130
/deprop Inner Error 0.000028
/deprop Inner Error 0.000005
Inner loop converged
/deprop Iteration 5 Outer Error 0.058751
/deprop Inner Error 0.038840
/deprop Inner Error 0.021564
/deprop Inner Error 0.015602
/deprop Inner Error 0.005498
/deprop Inner Error 0.001059
/deprop Inner Error 0.000188
/deprop Inner Error 0.000006
Inner loop converged
/deprop Iteration 6 Outer Error 0.001130
/deprop Inner Error 0.000361
/deprop Inner Error 0.000323
/deprop Inner Error 0.000019
/deprop Inner Error 0.000002
Inner loop converged
/deprop Iteration 7 Outer Error 0.000291
/deprop Inner Error 0.000067
/deprop Inner Error 0.000008
Inner loop converged
/deprop Iteration 8 Outer Error 0.000005
/deprop Inner Error 0.000008
Inner loop converged
>> /overhead.Out
Port: /overhead.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.9999946295592288 = 
T                  = 27.375057429060647 = F
P                  = 200.0 = psia
MoleFlow           = 434.06167311833633 = lbmole/h
MassFlow           = 12362.836307926851 = lb/h
VolumeFlow         = 2.7100000000000004 = ft3/s
StdLiqVolumeFlow   = 0.09658456289241779 = ft3/s
H                  = -37999.617382794764 = Btu/lbmol
Energy             = -16491403.82191619 = Btu/hr
MolecularWeight    = 28.48174941028689 = 
ZFactor            = 0.8600261570971081 = 
METHANE            = 0.3921100752814065 = 
ETHANE             = 0.33935179758871875 = 
PROPANE            = 0.2581320764364254 = 
ISOBUTANE          = 0.01 = 
N-BUTANE           = 0.0004072468390966584 = 
ISOPENTANE         = 1.0236460916943391e-07 = 
N-PENTANE          = 5.451402109594845e-09 = 
N-HEXANE           = 4.926331460884925e-09 = 
N-HEPTANE          = 5.562739630087923e-09 = 
N-OCTANE           = 2.839717908103082e-09 = 

>> /bottoms.Out
Port: /bottoms.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 2.9346082134110065e-06 = 
T                  = 261.4726589884958 = F
P                  = 205.0 = psia
MoleFlow           = 565.9383268816648 = lbmole/h
MassFlow           = 42025.507558046345 = lb/h
VolumeFlow         = 0.37733956410594416 = ft3/s
StdLiqVolumeFlow   = 0.3000924438637439 = ft3/s
H                  = -68621.31537207773 = Btu/lbmol
Energy             = -38828901.80556974 = Btu/hr
MolecularWeight    = 74.25810474722219 = 
ZFactor            = 0.06358168600008043 = 
METHANE            = 7.894287029337608e-08 = 
ETHANE             = 6.90822492733483e-07 = 
PROPANE            = 0.0020404326083689325 = 
ISOBUTANE          = 0.19836075720947938 = 
N-BUTANE           = 0.18804739792416017 = 
ISOPENTANE         = 0.17015980539445305 = 
N-PENTANE          = 0.14648238809083053 = 
N-HEXANE           = 0.12262819916096539 = 
N-HEPTANE          = 0.09859731164151295 = 
N-OCTANE           = 0.07368293820486657 = 

>> 
>> 
>> /deprop.VapourDraw_0_v.VolumeFlow = 2.0
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.457164
/deprop Inner Error 0.020738
/deprop Inner Error 0.016422
/deprop Inner Error 0.008697
/deprop Inner Error 0.003834
/deprop Inner Error 0.002901
/deprop Inner Error 0.001287
/deprop Inner Error 0.000090
/deprop Inner Error 0.000028
/deprop Inner Error 0.000007
Inner loop converged
/deprop Iteration 1 Outer Error 0.343108
/deprop Inner Error 0.118486
/deprop Inner Error 0.033829
/deprop Inner Error 0.009888
/deprop Inner Error 0.009478
/deprop Inner Error 0.006788
/deprop Inner Error 0.006782
Inner loop is not changing significantly - exiting
/deprop Iteration 2 Outer Error 0.055877
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.043747
/deprop Inner Error 0.026861
/deprop Inner Error 0.016506
/deprop Inner Error 0.000947
/deprop Inner Error 0.000296
/deprop Inner Error 0.000042
/deprop Inner Error 0.000015
/deprop Inner Error 0.000003
Inner loop converged
/deprop Iteration 3 Outer Error 0.004674
/deprop Inner Error 0.016112
/deprop Inner Error 0.004139
/deprop Inner Error 0.000203
/deprop Inner Error 0.000029
/deprop Inner Error 0.000006
Inner loop converged
/deprop Iteration 4 Outer Error 0.001059
/deprop Inner Error 0.000535
/deprop Inner Error 0.000064
/deprop Inner Error 0.000011
/deprop Inner Error 0.000001
Inner loop converged
/deprop Iteration 5 Outer Error 0.000245
/deprop Inner Error 0.000095
Inner loop is not changing significantly - exiting
/deprop Iteration 6 Outer Error 0.000067
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.000000
Inner loop converged
>> cd /
/
>> 
>> #Now lets play with re-naming
>> /deprop.Stage_0.v.NewName = VapDist
Rename port /deprop.VapourDraw_0_v to VapourDraw_0_VapDist.  It is connected to /overhead
>> 
>> #will not be there
>> /deprop.Stage_0.v
None
>> 
>> #Should be there
>> /deprop.Stage_0.VapDist
VapourDraw:VapDist
>> 
>> #Should not allow for repeated names in the same stage
>> /deprop.Stage_0.VapDist.NewName = cond
>> 
>> #Now rename to a name of a stream. It should be able to handle
>> #a name equal to another unit operation
>> /deprop.Stage_0.VapDist.NewName = overhead
Rename port /deprop.VapourDraw_0_VapDist to VapourDraw_0_overhead.  It is connected to /overhead
>> 
>> /deprop
Operation: deprop = sim21.unitop.Tower.Tower
Port: Feed_9_f = sim21.solver.Ports.Port_Material
Port: LiquidDraw_19_l = sim21.solver.Ports.Port_Material
Port: VapourDraw_0_overhead = sim21.solver.Ports.Port_Material
Port: EnergyFeed_19_reb = sim21.solver.Ports.Port_Energy
Port: EnergyFeed_0_cond = sim21.solver.Ports.Port_Energy
Port: Estimate_0_estT = sim21.solver.Ports.Port_Signal
Port: Estimate_19_estT = sim21.solver.Ports.Port_Signal
Parameter: Ignored = None
Parameter: TryToSolve = 1
Parameter: TryToRestart = 0
Parameter: TriggerSolve = 0
Parameter: FreqJacobianMsg = 10
Parameter: TryLastConverged = 0
Parameter: MaxInnerError = 1e-05
Parameter: MaxOuterError = 0.0001
Parameter: MinInnerStep = 1e-06
Parameter: MaxOuterLoops = 50
Parameter: MaxInnerLoops = 20
Parameter: Efficiencies = 1.0
Parameter: ConvReportLevel = 0
>> 
>> 
>> copy /deprop /bottoms /overhead
Copied /deprop /bottoms /overhead to the clipboard
>> paste /
Pasting /deprop /bottoms /overhead
Pasted /deprop /bottoms /overhead as /depropClone /bottomsClone /overheadClone
Calculating Jacobian for /depropClone
Calculating disturbance 10 of 20 in jacobian of /depropClone
Calculating disturbance 20 of 20 in jacobian of /depropClone
/depropClone Inner Error 0.457164
/depropClone Inner Error 0.020738
/depropClone Inner Error 0.016422
/depropClone Inner Error 0.008697
/depropClone Inner Error 0.003834
/depropClone Inner Error 0.002901
/depropClone Inner Error 0.001287
/depropClone Inner Error 0.000090
/depropClone Inner Error 0.000028
/depropClone Inner Error 0.000007
Inner loop converged
/depropClone Iteration 1 Outer Error 0.343108
/depropClone Inner Error 0.118486
/depropClone Inner Error 0.033829
/depropClone Inner Error 0.009888
/depropClone Inner Error 0.009478
/depropClone Inner Error 0.006788
/depropClone Inner Error 0.006782
Inner loop is not changing significantly - exiting
/depropClone Iteration 2 Outer Error 0.055877
Calculating Jacobian for /depropClone
Calculating disturbance 10 of 20 in jacobian of /depropClone
Calculating disturbance 20 of 20 in jacobian of /depropClone
/depropClone Inner Error 0.043747
/depropClone Inner Error 0.026861
/depropClone Inner Error 0.016506
/depropClone Inner Error 0.000947
/depropClone Inner Error 0.000296
/depropClone Inner Error 0.000042
/depropClone Inner Error 0.000015
/depropClone Inner Error 0.000003
Inner loop converged
/depropClone Iteration 3 Outer Error 0.004674
/depropClone Inner Error 0.016112
/depropClone Inner Error 0.004139
/depropClone Inner Error 0.000203
/depropClone Inner Error 0.000029
/depropClone Inner Error 0.000006
Inner loop converged
/depropClone Iteration 4 Outer Error 0.001059
/depropClone Inner Error 0.000535
/depropClone Inner Error 0.000064
/depropClone Inner Error 0.000011
/depropClone Inner Error 0.000001
Inner loop converged
/depropClone Iteration 5 Outer Error 0.000245
/depropClone Inner Error 0.000095
Inner loop is not changing significantly - exiting
/depropClone Iteration 6 Outer Error 0.000067
Calculating Jacobian for /depropClone
Calculating disturbance 10 of 20 in jacobian of /depropClone
Calculating disturbance 20 of 20 in jacobian of /depropClone
/depropClone Inner Error 0.000000
Inner loop converged
>> 
>> /bottoms.In
Port: /bottoms.In + sim21.solver.Ports.Port_Material
Connected to: /deprop.LiquidDraw_19_l
VapFrac            = 6.098839953684335e-07 | 
T                  = 226.49747254711085 | F
P                  = 205.0 | psia
MoleFlow           = 656.0430168307163 | lbmole/h
MassFlow           = 45997.74853754493 | lb/h
VolumeFlow         = 0.3999566288922737 | ft3/s
StdLiqVolumeFlow   = 0.33010633658313476 | ft3/s
H                  = -67249.27122591226 | Btu/lbmol
Energy             = -44110995.77867938 | Btu/hr
MolecularWeight    = 70.11392154289207 | 
ZFactor            = 0.061099892570480416 | 
METHANE            = 2.065957880537334e-09 | 
ETHANE             = 0.0012462976733732317 | 
PROPANE            = 0.13672136207022179 | 
ISOBUTANE          = 0.17248934451112763 | 
N-BUTANE           = 0.16198617252785816 | 
ISOPENTANE         = 0.14678910821803676 | 
N-PENTANE          = 0.12636366373107333 | 
N-HEXANE           = 0.1057857460160577 | 
N-HEPTANE          = 0.08505539812437342 | 
N-OCTANE           = 0.06356290506192017 | 

>> /bottomsClone.In
Port: /bottomsClone.In + sim21.solver.Ports.Port_Material
Connected to: /depropClone.LiquidDraw_19_l
VapFrac            = 6.098839953684335e-07 | 
T                  = 226.49747254711085 | F
P                  = 205.0 | psia
MoleFlow           = 656.0430168307163 | lbmole/h
MassFlow           = 45997.74853754493 | lb/h
VolumeFlow         = 0.3999566288922737 | ft3/s
StdLiqVolumeFlow   = 0.33010633658313476 | ft3/s
H                  = -67249.27122591226 | Btu/lbmol
Energy             = -44110995.77867938 | Btu/hr
MolecularWeight    = 70.11392154289207 | 
ZFactor            = 0.061099892570480416 | 
METHANE            = 2.065957880537334e-09 | 
ETHANE             = 0.0012462976733732317 | 
PROPANE            = 0.13672136207022179 | 
ISOBUTANE          = 0.17248934451112763 | 
N-BUTANE           = 0.16198617252785816 | 
ISOPENTANE         = 0.14678910821803676 | 
N-PENTANE          = 0.12636366373107333 | 
N-HEXANE           = 0.1057857460160577 | 
N-HEPTANE          = 0.08505539812437342 | 
N-OCTANE           = 0.06356290506192017 | 

>> 
>> 
>> 
>> 
