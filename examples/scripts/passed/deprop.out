>> # Depeopanizer test (from old Hysim manual)
>> units Field
>> $thermo = Sim21Thermo.Peng-Robinson
pkgName: Peng-Robinson
>> / -> $thermo
Thermo case attached to a unit operation. / to /thermo
>> thermo + Methane Ethane PROPANE
Methane Ethane PROPANE 
>> thermo + ISOBUTANE n-BUTANE ISOPENTANE n-PENTANE n-Hexane
ISOBUTANE n-BUTANE ISOPENTANE n-PENTANE n-Hexane 
>> thermo + n-Heptane n-Octane
n-Heptane n-Octane 
>> 
>> deprop = Tower.Tower()
>> deprop.Stage_0 + 18  # twenty stages`
>> 
>> cd deprop.Stage_0
/deprop.Stage_0
>> 
>> v = Tower.VapourDraw()
>> v.Port.P = 200
>> v.Port.Fraction.ISOBUTANE = .01
>> 
>> cond = Tower.EnergyFeed(0)
>> #cond.Port.Energy = 1.667e6
>> 
>> #estReflux = Tower.Estimate('Reflux')
>> #estReflux.Value = .45
>> estT = Tower.Estimate('T')
>> estT.Value = 25
>> 
>> #reflux = Tower.StageSpecification('Reflux')
>> #reflux.Value = .5042
>> 
>> cd ../Stage_9
/deprop.Stage_9
>> f = Tower.Feed()
>> f.Port.T = 50
>> f.Port.P = 480
>> f.Port.MoleFlow = 1000
>> f.Port.Fraction = .1702 .1473 .1132 .1166 .1066 .0963 .0829 .0694 .0558 .0417
>> f.Port
Port: /deprop.Feed_9_f + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0012160707513159594 = 
T                  = 49.99999999999999 * F
P                  = 480.0 * psia
MoleFlow           = 1000.0000000000001 * lbmole/h
MassFlow           = 54388.326918000006 = lb/h
VolumeFlow         = 0.41581234564493885 = ft3/s
StdLiqVolumeFlow   = 0.39667686847159 = ft3/s
H                  = -62299.579667023754 = Btu/lbmol
Energy             = -62289103.30841242 = Btu/hr
MolecularWeight    = 54.388326918 = 
ZFactor            = 0.13136681933415006 = 
METHANE            = 0.17020000000000002 * 
ETHANE             = 0.14730000000000001 * 
PROPANE            = 0.11320000000000001 * 
ISOBUTANE          = 0.11660000000000001 * 
N-BUTANE           = 0.10660000000000001 * 
ISOPENTANE         = 0.09630000000000001 * 
N-PENTANE          = 0.08290000000000002 * 
N-HEXANE           = 0.06940000000000002 * 
N-HEPTANE          = 0.05580000000000001 * 
N-OCTANE           = 0.04170000000000001 * 

>> 
>> #estT = Tower.Estimate('T')
>> #estT.Value = 100
>> 
>> cd ../Stage_19
/deprop.Stage_19
>> l = Tower.LiquidDraw()
>> l.Port.P = 205
>> l.Port.Fraction.PROPANE = .02
>> 
>> reb = Tower.EnergyFeed(1)
>> #reb.Port.Energy = 8.42e6
>> estT = Tower.Estimate('T')
>> estT.Value = 250
>> 
>> cd ..
/deprop
>> 
>> /overhead = Stream.Stream_Material()
>> /overhead.In -> Stage_0.v.Port
>> 
>> /bottoms = Stream.Stream_Material()
>> /bottoms.In -> Stage_19.l.Port
>> 
>> 
>> 
>> TryToSolve = 1  # start calculation
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.012860
/deprop Inner Error 0.006832
/deprop Inner Error 0.006678
/deprop Inner Error 0.003165
/deprop Inner Error 0.000681
/deprop Inner Error 0.000239
/deprop Inner Error 0.000058
/deprop Inner Error 0.000008
Inner loop converged
/deprop Iteration 1 Outer Error 0.108172
/deprop Inner Error 0.004526
/deprop Inner Error 0.001723
/deprop Inner Error 0.000432
/deprop Inner Error 0.000138
/deprop Inner Error 0.000028
/deprop Inner Error 0.000005
Inner loop converged
/deprop Iteration 2 Outer Error 0.006766
/deprop Inner Error 0.000600
/deprop Inner Error 0.000142
/deprop Inner Error 0.000025
/deprop Inner Error 0.000005
Inner loop converged
/deprop Iteration 3 Outer Error 0.001283
/deprop Inner Error 0.000058
/deprop Inner Error 0.000006
Inner loop converged
/deprop Iteration 4 Outer Error 0.000129
/deprop Inner Error 0.000011
/deprop Inner Error 0.000003
Inner loop converged
/deprop Iteration 5 Outer Error 0.000014
/deprop Inner Error 0.000002
Inner loop converged
>> 
>> /overhead.Out
Port: /overhead.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.999996519223626 = 
T                  = 24.580602669772276 = F
P                  = 200.0 = psia
MoleFlow           = 423.67342322663336 = lbmole/h
MassFlow           = 11904.606872153878 = lb/h
VolumeFlow         = 2.6344297781117274 = ft3/s
StdLiqVolumeFlow   = 0.09312080958879355 = ft3/s
H                  = -37822.33574793196 = Btu/lbmol
Energy             = -16021623.79559524 = Btu/hr
MolecularWeight    = 28.098544819223928 = 
ZFactor            = 0.8614922432530022 = 
METHANE            = 0.401724513813258 = 
ETHANE             = 0.34766544478066774 = 
PROPANE            = 0.23998157586581195 = 
ISOBUTANE          = 0.01 = 
N-BUTANE           = 0.0006297012764434756 = 
ISOPENTANE         = 1.3466684863190222e-07 = 
N-PENTANE          = 5.953728182100832e-09 = 
N-HEXANE           = 1.4961548129429285e-09 = 
N-HEPTANE          = 1.1452613673485897e-09 = 
N-OCTANE           = 4.930823150026548e-10 = 

>> /bottoms.Out
Port: /bottoms.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 3.0215759637486523e-06 = 
T                  = 256.6267127736683 = F
P                  = 205.0 = psia
MoleFlow           = 576.3265767733662 = lbmole/h
MassFlow           = 42483.72730676818 = lb/h
VolumeFlow         = 0.3795171931434864 = ft3/s
StdLiqVolumeFlow   = 0.3035561345961184 = ft3/s
H                  = -68468.85922404917 = Btu/lbmol
Energy             = -39453787.54857588 = Btu/hr
MolecularWeight    = 73.71467674950776 = 
ZFactor            = 0.06322077861887221 = 
METHANE            = 6.711816107545017e-11 = 
ETHANE             = 5.883594998062491e-06 = 
PROPANE            = 0.02 = 
ISOBUTANE          = 0.19496558852204757 = 
N-BUTANE           = 0.18450166379610403 = 
ISOPENTANE         = 0.167092663823317 = 
N-PENTANE          = 0.14384205209082884 = 
N-HEXANE           = 0.12041783628071294 = 
N-HEPTANE          = 0.09682010471768665 = 
N-OCTANE           = 0.0723548097062547 = 

>> 
>> 
>> # Now lets do some vol flow specs
>> # commonproperties + VolumeFlow StdLiqMolarVol
>> # displayproperties + StdLiqMolarVol StdLiqVolumeFlow
>> 
>> TryToSolve = 1
/deprop Inner Error 0.000001
Inner loop converged
/deprop Iteration 1 Outer Error 0.000007
/deprop Inner Error 0.000000
Inner loop converged
>> TryToRestart = 1
/deprop Inner Error 0.000000
Inner loop converged
/deprop Iteration 1 Outer Error 0.000001
/deprop Inner Error 0.000000
Inner loop converged
>> 
>> #Delete fractions
>> /deprop.LiquidDraw_19_l.Fraction = None None None None None None None None None None
>> /deprop.LiquidDraw_19_l.StdLiqVolumeFlow = 0.304
/deprop Inner Error 0.000446
/deprop Inner Error 0.000090
/deprop Inner Error 0.000023
/deprop Inner Error 0.000001
Inner loop converged
/deprop Iteration 1 Outer Error 0.002030
/deprop Inner Error 0.000458
/deprop Inner Error 0.000147
/deprop Inner Error 0.000021
/deprop Inner Error 0.000003
Inner loop converged
/deprop Iteration 2 Outer Error 0.000271
/deprop Inner Error 0.000031
/deprop Inner Error 0.000002
Inner loop converged
/deprop Iteration 3 Outer Error 0.000035
/deprop Inner Error 0.000002
Inner loop converged
>> /overhead.Out
Port: /overhead.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 1.0 = 
T                  = 24.197156799071674 = F
P                  = 200.0 = psia
MoleFlow           = 422.3437209389909 = lbmole/h
MassFlow           = 11845.830739704636 = lb/h
VolumeFlow         = 2.624644531271146 = ft3/s
StdLiqVolumeFlow   = 0.09267646707411088 = ft3/s
H                  = -37798.94971528604 = Btu/lbmol
Energy             = -15961464.523325445 = Btu/hr
MolecularWeight    = 28.047843141019435 = 
ZFactor            = 0.8616768851516002 = 
METHANE            = 0.4029892554143735 = 
ETHANE             = 0.34875909942257133 = 
PROPANE            = 0.2376097786472763 = 
ISOBUTANE          = 0.01 = 
N-BUTANE           = 0.0006407982767267609 = 
ISOPENTANE         = 1.3597116629106084e-07 = 
N-PENTANE          = 5.967272967876327e-09 = 
N-HEXANE           = 1.4476047093502022e-09 = 
N-HEPTANE          = 1.0914781994488246e-09 = 
N-OCTANE           = 4.66450743245044e-10 = 

>> /bottoms.Out
Port: /bottoms.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 1.3243135734980219e-06 = 
T                  = 256.0271343421158 = F
P                  = 205.0 = psia
MoleFlow           = 577.6562790610096 = lbmole/h
MassFlow           = 42542.48445086399 = lb/h
VolumeFlow         = 0.3798015551590966 = ft3/s
StdLiqVolumeFlow   = 0.304 = ft3/s
H                  = -68449.12608028052 = Btu/lbmol
Energy             = -39533418.37986373 = Btu/hr
MolecularWeight    = 73.64670997780469 = 
ZFactor            = 0.06317539297644559 = 
METHANE            = 3.180067593148699e-08 = 
ETHANE             = 6.55102121604481e-06 = 
PROPANE            = 0.022239872429851832 = 
ISOBUTANE          = 0.1945381309200004 = 
N-BUTANE           = 0.18407029703594 = 
ISOPENTANE         = 0.16670803393666703 = 
N-PENTANE          = 0.14351094324554936 = 
N-HEXANE           = 0.1201406474823128 = 
N-HEPTANE          = 0.09659723534854481 = 
N-OCTANE           = 0.0721882567792417 = 

>> 
>> /deprop.LiquidDraw_19_l.StdLiqVolumeFlow =
>> /deprop.VapourDraw_0_v.VolumeFlow = 2.0
/deprop Inner Error 0.631895
/deprop Inner Error 0.422729
/deprop Inner Error 0.053411
Step size too small - Exiting inner loop
/deprop Iteration 1 Outer Error 0.126068
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.252808
/deprop Inner Error 0.234076
/deprop Inner Error 0.227692
/deprop Inner Error 0.226610
/deprop Inner Error 0.226237
/deprop Inner Error 0.226227
/deprop Inner Error 0.226213
/deprop Inner Error 0.226174
/deprop Inner Error 0.226171
Inner loop is not changing significantly - exiting
/deprop Iteration 2 Outer Error 0.286078
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.499226
/deprop Inner Error 0.453744
/deprop Inner Error 0.173627
/deprop Inner Error 0.056604
/deprop Inner Error 0.044245
/deprop Inner Error 0.006661
/deprop Inner Error 0.005724
/deprop Inner Error 0.001964
/deprop Inner Error 0.001049
/deprop Inner Error 0.000438
/deprop Inner Error 0.000016
/deprop Inner Error 0.000016
Inner loop is not changing significantly - exiting
/deprop Iteration 3 Outer Error 0.077841
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.052109
/deprop Inner Error 0.007566
Step size too small - Exiting inner loop
/deprop Iteration 4 Outer Error 0.015043
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.025130
/deprop Inner Error 0.001938
/deprop Inner Error 0.000178
/deprop Inner Error 0.000100
/deprop Inner Error 0.000018
/deprop Inner Error 0.000007
Inner loop converged
/deprop Iteration 5 Outer Error 0.029778
/deprop Inner Error 0.066171
/deprop Inner Error 0.006830
/deprop Inner Error 0.006532
/deprop Inner Error 0.001271
/deprop Inner Error 0.000365
/deprop Inner Error 0.000039
/deprop Inner Error 0.000004
Inner loop converged
/deprop Iteration 6 Outer Error 0.006547
/deprop Inner Error 0.000945
/deprop Inner Error 0.000161
/deprop Inner Error 0.000019
/deprop Inner Error 0.000003
Inner loop converged
/deprop Iteration 7 Outer Error 0.001747
/deprop Inner Error 0.000075
/deprop Inner Error 0.000008
Inner loop converged
/deprop Iteration 8 Outer Error 0.000404
/deprop Inner Error 0.000010
Inner loop converged
/deprop Iteration 9 Outer Error 0.000097
/deprop Inner Error 0.000006
Inner loop converged
>> /overhead.Out
Port: /overhead.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.9999998669549326 = 
T                  = -10.790329406570608 = F
P                  = 200.0 = psia
MoleFlow           = 343.95425995912643 = lbmole/h
MassFlow           = 8390.463908100715 = lb/h
VolumeFlow         = 2.0 = ft3/s
StdLiqVolumeFlow   = 0.06656966779049696 = ft3/s
H                  = -36168.58954506043 = Btu/lbmol
Energy             = -12438248.470846815 = Btu/hr
MolecularWeight    = 24.394126896527776 = 
ZFactor            = 0.8690890221134834 = 
METHANE            = 0.49483307137091426 = 
ETHANE             = 0.4258769014992903 = 
PROPANE            = 0.0683304891420217 = 
ISOBUTANE          = 0.01 = 
N-BUTANE           = 0.0009597029845937508 = 
ISOPENTANE         = 8.896821023052023e-08 = 
N-PENTANE          = 2.406837385666234e-09 = 
N-HEXANE           = 1.3350473447242258e-10 = 
N-HEPTANE          = 4.865379646560187e-11 = 
N-OCTANE           = 1.3515161056672946e-11 = 

>> /bottoms.Out
Port: /bottoms.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 2.199701953481151e-06 = 
T                  = 226.49654157673694 = F
P                  = 205.0 = psia
MoleFlow           = 656.045740040874 = lbmole/h
MassFlow           = 45997.86598631739 = lb/h
VolumeFlow         = 0.3999648941834517 = ft3/s
StdLiqVolumeFlow   = 0.3301072245801279 = ft3/s
H                  = -67249.22121852594 = Btu/lbmol
Energy             = -44111146.08016601 = Btu/hr
MolecularWeight    = 70.11380941739147 = 
ZFactor            = 0.06110098450071818 = 
METHANE            = 8.708739677011889e-08 = 
ETHANE             = 0.001246598310469702 = 
PROPANE            = 0.1367243649336437 = 
ISOBUTANE          = 0.17248880488250315 = 
N-BUTANE           = 0.16198551348497836 = 
ISOPENTANE         = 0.1467884989132088 = 
N-PENTANE          = 0.12636313920275297 = 
N-HEXANE           = 0.10578530690521158 = 
N-HEPTANE          = 0.08505504506406639 = 
N-OCTANE           = 0.06356264121576852 = 

>> 
>> TryToRestart = 0  #Keep last solution and ramp it up
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.457164
/deprop Inner Error 0.020738
/deprop Inner Error 0.016422
/deprop Inner Error 0.008697
/deprop Inner Error 0.003834
/deprop Inner Error 0.002901
/deprop Inner Error 0.001287
/deprop Inner Error 0.000090
/deprop Inner Error 0.000028
/deprop Inner Error 0.000007
Inner loop converged
/deprop Iteration 1 Outer Error 0.343108
/deprop Inner Error 0.118486
/deprop Inner Error 0.033829
/deprop Inner Error 0.009888
/deprop Inner Error 0.009478
/deprop Inner Error 0.006788
/deprop Inner Error 0.006782
Inner loop is not changing significantly - exiting
/deprop Iteration 2 Outer Error 0.055877
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.043747
/deprop Inner Error 0.026861
/deprop Inner Error 0.016506
/deprop Inner Error 0.000947
/deprop Inner Error 0.000296
/deprop Inner Error 0.000042
/deprop Inner Error 0.000015
/deprop Inner Error 0.000003
Inner loop converged
/deprop Iteration 3 Outer Error 0.004674
/deprop Inner Error 0.016112
/deprop Inner Error 0.004139
/deprop Inner Error 0.000203
/deprop Inner Error 0.000029
/deprop Inner Error 0.000006
Inner loop converged
/deprop Iteration 4 Outer Error 0.001059
/deprop Inner Error 0.000535
/deprop Inner Error 0.000064
/deprop Inner Error 0.000011
/deprop Inner Error 0.000001
Inner loop converged
/deprop Iteration 5 Outer Error 0.000245
/deprop Inner Error 0.000095
Inner loop is not changing significantly - exiting
/deprop Iteration 6 Outer Error 0.000067
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.000000
Inner loop converged
>> # Appears the thermo will limit us from getting the 2.8 in the
>> # original simulation, changed to 2.71 for testing.
>> /deprop.VapourDraw_0_v.VolumeFlow = 2.71
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.036310
/deprop Inner Error 0.016664
/deprop Inner Error 0.005895
/deprop Inner Error 0.002693
/deprop Inner Error 0.001635
/deprop Inner Error 0.000078
/deprop Inner Error 0.000008
Inner loop converged
/deprop Iteration 1 Outer Error 0.053567
/deprop Inner Error 0.034117
/deprop Inner Error 0.015417
/deprop Inner Error 0.002081
/deprop Inner Error 0.002078
Inner loop is not changing significantly - exiting
/deprop Iteration 2 Outer Error 0.022401
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.088749
/deprop Inner Error 0.050685
Step size too small - Exiting inner loop
/deprop Iteration 3 Outer Error 0.007476
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.106292
/deprop Inner Error 0.044561
/deprop Inner Error 0.014422
/deprop Inner Error 0.002043
Step size too small - Exiting inner loop
/deprop Iteration 4 Outer Error 0.009812
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.009124
/deprop Inner Error 0.001812
/deprop Inner Error 0.000588
/deprop Inner Error 0.000130
/deprop Inner Error 0.000028
/deprop Inner Error 0.000005
Inner loop converged
/deprop Iteration 5 Outer Error 0.058751
/deprop Inner Error 0.038840
/deprop Inner Error 0.021564
/deprop Inner Error 0.015602
/deprop Inner Error 0.005498
/deprop Inner Error 0.001059
/deprop Inner Error 0.000188
/deprop Inner Error 0.000006
Inner loop converged
/deprop Iteration 6 Outer Error 0.001130
/deprop Inner Error 0.000361
/deprop Inner Error 0.000323
/deprop Inner Error 0.000019
/deprop Inner Error 0.000002
Inner loop converged
/deprop Iteration 7 Outer Error 0.000291
/deprop Inner Error 0.000067
/deprop Inner Error 0.000008
Inner loop converged
/deprop Iteration 8 Outer Error 0.000005
/deprop Inner Error 0.000008
Inner loop converged
>> /overhead.Out
Port: /overhead.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.9999946154019967 = 
T                  = 27.375057428044013 = F
P                  = 200.0 = psia
MoleFlow           = 434.06167311376305 = lbmole/h
MassFlow           = 12362.836307750968 = lb/h
VolumeFlow         = 2.7100000000000004 = ft3/s
StdLiqVolumeFlow   = 0.09658456289107756 = ft3/s
H                  = -37999.61746807833 = Btu/lbmol
Energy             = -16491403.858754542 = Btu/hr
MolecularWeight    = 28.48174941018175 = 
ZFactor            = 0.8600261473693517 = 
METHANE            = 0.3921100752855377 = 
ETHANE             = 0.33935179759229095 = 
PROPANE            = 0.2581320764319815 = 
ISOBUTANE          = 0.01 = 
N-BUTANE           = 0.00040724683943259786 = 
ISOPENTANE         = 1.0236460938544005e-07 = 
N-PENTANE          = 5.451402122159252e-09 = 
N-HEXANE           = 4.926331482759725e-09 = 
N-HEPTANE          = 5.562739661495778e-09 = 
N-OCTANE           = 2.839717925820223e-09 = 

>> /bottoms.Out
Port: /bottoms.Out + sim21.solver.Ports.Port_Material
Connected to: None
VapFrac            = 2.940566236033476e-06 = 
T                  = 261.4726589867091 = F
P                  = 205.0 = psia
MoleFlow           = 565.9383268862367 = lbmole/h
MassFlow           = 42025.507558268415 = lb/h
VolumeFlow         = 0.3773395887933048 = ft3/s
StdLiqVolumeFlow   = 0.30009244386546097 = ft3/s
H                  = -68621.31533289189 = Btu/lbmol
Energy             = -38828901.78371038 = Btu/hr
MolecularWeight    = 74.25810474701471 = 
ZFactor            = 0.06358169015954258 = 
METHANE            = 7.894287048848176e-08 = 
ETHANE             = 6.908224955166898e-07 = 
PROPANE            = 0.0020404326138464203 = 
ISOBUTANE          = 0.19836075721071383 = 
N-BUTANE           = 0.18804739792238606 = 
ISOPENTANE         = 0.1701598053930782 = 
N-PENTANE          = 0.14648238808964706 = 
N-HEXANE           = 0.12262819915997468 = 
N-HEPTANE          = 0.09859731164071639 = 
N-OCTANE           = 0.07368293820427135 = 

>> 
>> 
>> /deprop.VapourDraw_0_v.VolumeFlow = 2.0
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.457164
/deprop Inner Error 0.020738
/deprop Inner Error 0.016422
/deprop Inner Error 0.008697
/deprop Inner Error 0.003834
/deprop Inner Error 0.002901
/deprop Inner Error 0.001287
/deprop Inner Error 0.000090
/deprop Inner Error 0.000028
/deprop Inner Error 0.000007
Inner loop converged
/deprop Iteration 1 Outer Error 0.343108
/deprop Inner Error 0.118486
/deprop Inner Error 0.033829
/deprop Inner Error 0.009888
/deprop Inner Error 0.009478
/deprop Inner Error 0.006788
/deprop Inner Error 0.006782
Inner loop is not changing significantly - exiting
/deprop Iteration 2 Outer Error 0.055877
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.043747
/deprop Inner Error 0.026861
/deprop Inner Error 0.016506
/deprop Inner Error 0.000947
/deprop Inner Error 0.000296
/deprop Inner Error 0.000042
/deprop Inner Error 0.000015
/deprop Inner Error 0.000003
Inner loop converged
/deprop Iteration 3 Outer Error 0.004674
/deprop Inner Error 0.016112
/deprop Inner Error 0.004139
/deprop Inner Error 0.000203
/deprop Inner Error 0.000029
/deprop Inner Error 0.000006
Inner loop converged
/deprop Iteration 4 Outer Error 0.001059
/deprop Inner Error 0.000535
/deprop Inner Error 0.000064
/deprop Inner Error 0.000011
/deprop Inner Error 0.000001
Inner loop converged
/deprop Iteration 5 Outer Error 0.000245
/deprop Inner Error 0.000095
Inner loop is not changing significantly - exiting
/deprop Iteration 6 Outer Error 0.000067
Calculating Jacobian for /deprop
Calculating disturbance 10 of 20 in jacobian of /deprop
Calculating disturbance 20 of 20 in jacobian of /deprop
/deprop Inner Error 0.000000
Inner loop converged
>> cd /
/
>> 
>> #Now lets play with re-naming
>> /deprop.Stage_0.v.NewName = VapDist
Rename port /deprop.VapourDraw_0_v to VapourDraw_0_VapDist.  It is connected to /overhead
>> 
>> #will not be there
>> /deprop.Stage_0.v
None
>> 
>> #Should be there
>> /deprop.Stage_0.VapDist
VapourDraw:VapDist
>> 
>> #Should not allow for repeated names in the same stage
>> /deprop.Stage_0.VapDist.NewName = cond
>> 
>> #Now rename to a name of a stream. It should be able to handle
>> #a name equal to another unit operation
>> /deprop.Stage_0.VapDist.NewName = overhead
Rename port /deprop.VapourDraw_0_VapDist to VapourDraw_0_overhead.  It is connected to /overhead
>> 
>> /deprop
Operation: deprop = sim21.unitop.Tower.Tower
Port: Feed_9_f = sim21.solver.Ports.Port_Material
Port: LiquidDraw_19_l = sim21.solver.Ports.Port_Material
Port: VapourDraw_0_overhead = sim21.solver.Ports.Port_Material
Port: EnergyFeed_19_reb = sim21.solver.Ports.Port_Energy
Port: EnergyFeed_0_cond = sim21.solver.Ports.Port_Energy
Port: Estimate_0_estT = sim21.solver.Ports.Port_Signal
Port: Estimate_19_estT = sim21.solver.Ports.Port_Signal
Parameter: Ignored = None
Parameter: TryToSolve = 1
Parameter: TryToRestart = 0
Parameter: TriggerSolve = 0
Parameter: FreqJacobianMsg = 10
Parameter: TryLastConverged = 0
Parameter: MaxInnerError = 1e-05
Parameter: MaxOuterError = 0.0001
Parameter: MinInnerStep = 1e-06
Parameter: MaxOuterLoops = 50
Parameter: MaxInnerLoops = 20
Parameter: Efficiencies = 1.0
Parameter: ConvReportLevel = 0
>> 
>> 
>> copy /deprop /bottoms /overhead
Copied /deprop /bottoms /overhead to the clipboard
>> paste /
Pasting /deprop /bottoms /overhead
Pasted /deprop /bottoms /overhead as /depropClone /bottomsClone /overheadClone
Calculating Jacobian for /depropClone
Calculating disturbance 10 of 20 in jacobian of /depropClone
Calculating disturbance 20 of 20 in jacobian of /depropClone
/depropClone Inner Error 0.457164
/depropClone Inner Error 0.020738
/depropClone Inner Error 0.016422
/depropClone Inner Error 0.008697
/depropClone Inner Error 0.003834
/depropClone Inner Error 0.002901
/depropClone Inner Error 0.001287
/depropClone Inner Error 0.000090
/depropClone Inner Error 0.000028
/depropClone Inner Error 0.000007
Inner loop converged
/depropClone Iteration 1 Outer Error 0.343108
/depropClone Inner Error 0.118486
/depropClone Inner Error 0.033829
/depropClone Inner Error 0.009888
/depropClone Inner Error 0.009478
/depropClone Inner Error 0.006788
/depropClone Inner Error 0.006782
Inner loop is not changing significantly - exiting
/depropClone Iteration 2 Outer Error 0.055877
Calculating Jacobian for /depropClone
Calculating disturbance 10 of 20 in jacobian of /depropClone
Calculating disturbance 20 of 20 in jacobian of /depropClone
/depropClone Inner Error 0.043747
/depropClone Inner Error 0.026861
/depropClone Inner Error 0.016506
/depropClone Inner Error 0.000947
/depropClone Inner Error 0.000296
/depropClone Inner Error 0.000042
/depropClone Inner Error 0.000015
/depropClone Inner Error 0.000003
Inner loop converged
/depropClone Iteration 3 Outer Error 0.004674
/depropClone Inner Error 0.016112
/depropClone Inner Error 0.004139
/depropClone Inner Error 0.000203
/depropClone Inner Error 0.000029
/depropClone Inner Error 0.000006
Inner loop converged
/depropClone Iteration 4 Outer Error 0.001059
/depropClone Inner Error 0.000535
/depropClone Inner Error 0.000064
/depropClone Inner Error 0.000011
/depropClone Inner Error 0.000001
Inner loop converged
/depropClone Iteration 5 Outer Error 0.000245
/depropClone Inner Error 0.000095
Inner loop is not changing significantly - exiting
/depropClone Iteration 6 Outer Error 0.000067
Calculating Jacobian for /depropClone
Calculating disturbance 10 of 20 in jacobian of /depropClone
Calculating disturbance 20 of 20 in jacobian of /depropClone
/depropClone Inner Error 0.000000
Inner loop converged
>> 
>> /bottoms.In
Port: /bottoms.In + sim21.solver.Ports.Port_Material
Connected to: /deprop.LiquidDraw_19_l
VapFrac            = 6.14302714275836e-07 | 
T                  = 226.49747252578058 | F
P                  = 205.0 | psia
MoleFlow           = 656.0430168387102 | lbmole/h
MassFlow           = 45997.74853743817 | lb/h
VolumeFlow         = 0.3999566498483376 | ft3/s
StdLiqVolumeFlow   = 0.3301063365815774 | ft3/s
H                  = -67249.27119890891 | Btu/lbmol
Energy             = -44110995.76150449 | Btu/hr
MolecularWeight    = 70.11392154187504 | 
ZFactor            = 0.06109989577301553 | 
METHANE            = 2.0659579547331257e-09 | 
ETHANE             = 0.0012462977274149245 | 
PROPANE            = 0.1367213620225348 | 
ISOBUTANE          = 0.17248934450914716 | 
N-BUTANE           = 0.16198617252991165 | 
ISOPENTANE         = 0.14678910821624847 | 
N-PENTANE          = 0.12636366372953353 | 
N-HEXANE           = 0.10578574601476867 | 
N-HEPTANE          = 0.08505539812333701 | 
N-OCTANE           = 0.06356290506114566 | 

>> /bottomsClone.In
Port: /bottomsClone.In + sim21.solver.Ports.Port_Material
Connected to: /depropClone.LiquidDraw_19_l
VapFrac            = 6.14302714275836e-07 | 
T                  = 226.49747252578058 | F
P                  = 205.0 | psia
MoleFlow           = 656.0430168387102 | lbmole/h
MassFlow           = 45997.74853743817 | lb/h
VolumeFlow         = 0.3999566498483376 | ft3/s
StdLiqVolumeFlow   = 0.3301063365815774 | ft3/s
H                  = -67249.27119890891 | Btu/lbmol
Energy             = -44110995.76150449 | Btu/hr
MolecularWeight    = 70.11392154187504 | 
ZFactor            = 0.06109989577301553 | 
METHANE            = 2.0659579547331257e-09 | 
ETHANE             = 0.0012462977274149245 | 
PROPANE            = 0.1367213620225348 | 
ISOBUTANE          = 0.17248934450914716 | 
N-BUTANE           = 0.16198617252991165 | 
ISOPENTANE         = 0.14678910821624847 | 
N-PENTANE          = 0.12636366372953353 | 
N-HEXANE           = 0.10578574601476867 | 
N-HEPTANE          = 0.08505539812333701 | 
N-OCTANE           = 0.06356290506114566 | 

>> 
>> 
>> 
>> 
