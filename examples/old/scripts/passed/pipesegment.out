>> clear
>> 
>> $th = Sim21Thermo.Peng-Robinson
pkgName: Peng-Robinson
>> / -> $th
Thermo case attached to a unit operation. / to /th
>> th + WATER
WATER 
>> 
>> pipe = PipeSegment.PipeSegment()
>> 
>> 
>> cd /pipe.In
/pipe.In
>> P = 300 kPa
>> T = 300.0 K
>> Fraction = 1.0
>> MoleFlow = 1000.0
>> 
>> cd /pipe.Out
/pipe.Out
>> #P = 200.0
>> #T = 300.0
>> 
>> 
>> cd /
/
>> pipe.Diameter = 0.1
>> pipe.Length = 20.0
>> pipe.Roughness = 0.0001
>> pipe.Elevation0 = 0.0
>> pipe.Elevation1 = 0.0
>> pipe.OutQ = 0
SolveMode_OutP ('/pipe',)
SolvingSection (1, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 0.001366
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 2 iterations
SolvingSection (2, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 0.001369
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 2 iterations
>> 
>> 
>> pipe.In
Port: /pipe.In + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 26.850000000000023 * C
P                  = 300.0 * kPa
MoleFlow           = 1000.0000000000001 * kgmole/h
MassFlow           = 18015.280000000002 = kg/h
VolumeFlow         = 21.256618865240995 = m3/hr
StdLiqVolumeFlow   = 18.07 = m3/hr
H                  = -287368.55531320587 = kJ/kmol
Energy             = -79824598.69811274 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.0025565836111681732 = 
WATER              = 1.0 * 

>> pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 26.850238331875175 = C
P                  = 298.9042705458071 = kPa
MoleFlow           = 1000.0000000000001 = kgmole/h
MassFlow           = 18015.280000000002 = kg/h
VolumeFlow         = 21.25662508694507 = m3/hr
StdLiqVolumeFlow   = 18.07 = m3/hr
H                  = -287368.5548217174 = kJ/kmol
Energy             = -79824598.56158815 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.0025472445865525888 = 
WATER              = 1.0 = 

>> 
>> #Calculate flow
>> pipe.In.MoleFlow =
>> pipe.Out.P = 280 kPa
Calculating Jacobian for /pipe
/pipe Iteration 1 Max Error 0.027886
Calculating Jacobian for /pipe
/pipe Iteration 2 Max Error 0.024531
Calculating Jacobian for /pipe
/pipe Iteration 3 Max Error 0.002493
Calculating Jacobian for /pipe
/pipe Iteration 4 Max Error 0.000041
Calculating Jacobian for /pipe
Converged /pipe in 5 iterations
>> pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 26.854204758022718 = C
P                  = 280.0 * kPa
MoleFlow           = 4511.710253503267 = kgmole/h
MassFlow           = 81279.72349573234 = kg/h
VolumeFlow         = 95.90420847104787 = m3/hr
StdLiqVolumeFlow   = 81.52660428080404 = m3/hr
H                  = -287368.5553142944 = kJ/kmol
Energy             = -360145460.42942303 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.0023861237796638513 = 
WATER              = 1.0 = 

>> 
>> #Calculate from deltaP
>> pipe.Out.P =
>> pipe.DeltaP = 10
Calculating Jacobian for /pipe
/pipe Iteration 1 Max Error 0.002149
Calculating Jacobian for /pipe
/pipe Iteration 2 Max Error 0.000059
Calculating Jacobian for /pipe
Converged /pipe in 3 iterations
>> pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 26.852103400611952 = C
P                  = 290.0 = kPa
MoleFlow           = 3164.41000785921 = kgmole/h
MassFlow           = 57007.73232638587 = kg/h
VolumeFlow         = 67.26483397241697 = m3/hr
StdLiqVolumeFlow   = 57.180888842015925 = m3/hr
H                  = -287368.5553134744 = kJ/kmol
Energy             = -252597758.99388924 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.002471353314818237 = 
WATER              = 1.0 = 

>> 
>> #Back to
>> pipe.In.P =
>> pipe.Out.P = 270
Calculating Jacobian for /pipe
Converged /pipe in 1 iterations
>> pipe.In
Port: /pipe.In + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 26.850000000000023 * C
P                  = 280.0 = kPa
MoleFlow           = 3164.40181799539 = kgmole/h
MassFlow           = 57007.584783695995 = kg/h
VolumeFlow         = 67.26464976444039 = m3/hr
StdLiqVolumeFlow   = 57.180740851176694 = m3/hr
H                  = -287368.8963318605 = kJ/kmol
Energy             = -252597404.99663004 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.0023861506060326443 = 
WATER              = 1.0 * 

>> pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 26.852103387610043 = C
P                  = 270.0 * kPa
MoleFlow           = 3164.40181799539 = kgmole/h
MassFlow           = 57007.584783695995 = kg/h
VolumeFlow         = 67.2648262736534 = m3/hr
StdLiqVolumeFlow   = 57.180740851176694 = m3/hr
H                  = -287368.89633152797 = kJ/kmol
Energy             = -252597404.99633774 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.0023009208469779163 = 
WATER              = 1.0 = 

>> 
>> #Negative deltaP -> Negative flow calc
>> pipe.DeltaP = -10
Calculating Jacobian for /pipe
/pipe Iteration 1 Max Error 0.019206
Calculating Jacobian for /pipe
/pipe Iteration 2 Max Error 0.007026
Calculating Jacobian for /pipe
/pipe Iteration 3 Max Error 0.001001
Calculating Jacobian for /pipe
/pipe Iteration 4 Max Error 0.000013
Calculating Jacobian for /pipe
Converged /pipe in 5 iterations
>> pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 26.84790097907171 = C
P                  = 270.0 * kPa
MoleFlow           = -3164.3984113054667 = kgmole/h
MassFlow           = -57007.52341122315 = kg/h
VolumeFlow         = -67.26456742483406 = m3/hr
StdLiqVolumeFlow   = -57.18067929228978 = m3/hr
H                  = -287369.2373234945 = kJ/kmol
Energy             = 252597432.79014713 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.002300946701152551 = 
WATER              = 1.0 = 

>> 
>> #Calculate with negative flow
>> pipe.DeltaP.DP =
>> pipe.Out.P =
>> pipe.In.P = 300 kPa
>> pipe.In.MoleFlow = -5000.0
SolveMode_OutP ('/pipe',)
SolvingSection (1, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 0.015588
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 2 iterations
SolvingSection (2, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 0.014979
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 2 iterations
>> pipe.In
Port: /pipe.In + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 26.850000000000023 * C
P                  = 300.0 * kPa
MoleFlow           = -5000.0 * kgmole/h
MassFlow           = -90076.40000000001 = kg/h
VolumeFlow         = -106.28309432620496 = m3/hr
StdLiqVolumeFlow   = -90.35 = m3/hr
H                  = -287368.55531320587 = kJ/kmol
Energy             = 399122993.4905637 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.0025565836111681732 = 
WATER              = 1.0 * 

>> pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 26.844866429123613 = C
P                  = 324.4676087249571 = kPa
MoleFlow           = -5000.0 = kgmole/h
MassFlow           = -90076.40000000001 = kg/h
VolumeFlow         = -106.28241291191941 = m3/hr
StdLiqVolumeFlow   = -90.35 = m3/hr
H                  = -287368.5548207015 = kJ/kmol
Energy             = 399122992.8065299 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.002765124824724408 = 
WATER              = 1.0 = 

>> 
>> #Play with elevation now
>> pipe.In.MoleFlow = 9000.0
SolveMode_OutP ('/pipe',)
SolvingSection (1, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 0.037012
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 2 iterations
SolvingSection (2, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 0.042522
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 2 iterations
>> pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 26.866389069951424 = C
P                  = 222.04360938292226 = kPa
MoleFlow           = 9000.0 = kgmole/h
MassFlow           = 162137.52000000002 = kg/h
VolumeFlow         = 191.31348263280913 = m3/hr
StdLiqVolumeFlow   = 162.63 = m3/hr
H                  = -287368.55483672913 = kJ/kmol
Energy             = -718421387.0918229 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.0018921788408396423 = 
WATER              = 1.0 = 

>> pipe.Elevation1 = 10
SolveMode_OutP ('/pipe',)
SolvingSection (1, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 0.036624
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 2 iterations
SolvingSection (2, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 0.050052
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 2 iterations
>> pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 26.862078810174808 = C
P                  = 138.90299327008003 = kPa
MoleFlow           = 9000.0 = kgmole/h
MassFlow           = 162137.52000000002 = kg/h
VolumeFlow         = 191.31490671123916 = m3/hr
StdLiqVolumeFlow   = 162.63 = m3/hr
H                  = -287370.322139747 = kJ/kmol
Energy             = -718425805.3493675 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.0011837090832299 = 
WATER              = 1.0 = 

>> pipe.Elevation0 = 10
SolveMode_OutP ('/pipe',)
SolvingSection (1, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 0.037012
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 2 iterations
SolvingSection (2, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 0.042522
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 2 iterations
>> pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 26.866389069945456 = C
P                  = 222.04360936960103 = kPa
MoleFlow           = 9000.0 = kgmole/h
MassFlow           = 162137.52000000002 = kg/h
VolumeFlow         = 191.31348263279958 = m3/hr
StdLiqVolumeFlow   = 162.63 = m3/hr
H                  = -287368.55483671883 = kJ/kmol
Energy             = -718421387.091797 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.0018921788407260665 = 
WATER              = 1.0 = 

>> pipe.Elevation0 = 20
SolveMode_OutP ('/pipe',)
SolvingSection (1, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 0.037401
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 2 iterations
SolvingSection (2, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 0.037061
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 2 iterations
>> pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 26.870698916906008 = C
P                  = 305.1848441639516 = kPa
MoleFlow           = 9000.0 = kgmole/h
MassFlow           = 162137.52000000002 = kg/h
VolumeFlow         = 191.3120587812498 = m3/hr
StdLiqVolumeFlow   = 162.63 = m3/hr
H                  = -287366.78753363993 = kJ/kmol
Energy             = -718416968.8340998 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.002600622973060407 = 
WATER              = 1.0 = 

>> 
>> 
>> #Play with roughness
>> pipe.Elevation1 = 0
SolveMode_OutP ('/pipe',)
SolvingSection (1, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 0.037789
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 2 iterations
SolvingSection (2, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 0.032919
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 2 iterations
>> pipe.Elevation0 = 0
SolveMode_OutP ('/pipe',)
SolvingSection (1, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 0.037012
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 2 iterations
SolvingSection (2, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 0.042522
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 2 iterations
>> pipe.Roughness = 0.0001
>> pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 26.866389069951424 = C
P                  = 222.04360938292226 = kPa
MoleFlow           = 9000.0 = kgmole/h
MassFlow           = 162137.52000000002 = kg/h
VolumeFlow         = 191.31348263280913 = m3/hr
StdLiqVolumeFlow   = 162.63 = m3/hr
H                  = -287368.55483672913 = kJ/kmol
Energy             = -718421387.0918229 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.0018921788408396423 = 
WATER              = 1.0 = 

>> pipe.Roughness = 0.000001
SolveMode_OutP ('/pipe',)
SolvingSection (1, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 0.052544
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 2 iterations
SolvingSection (2, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 0.057225
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 2 iterations
>> pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 26.860339894774086 = C
P                  = 250.83193493025033 = kPa
MoleFlow           = 9000.0 = kgmole/h
MassFlow           = 162137.52000000002 = kg/h
VolumeFlow         = 191.31203792071727 = m3/hr
StdLiqVolumeFlow   = 162.63 = m3/hr
H                  = -287368.554831238 = kJ/kmol
Energy             = -718421387.078095 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.0021375299512987334 = 
WATER              = 1.0 = 

>> pipe.Roughness = 0.0
SolveMode_OutP ('/pipe',)
SolvingSection (1, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 0.052461
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 2 iterations
SolvingSection (2, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 0.057064
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 2 iterations
>> pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 26.860198418443815 = C
P                  = 251.50522107807902 = kPa
MoleFlow           = 9000.0 = kgmole/h
MassFlow           = 162137.52000000002 = kg/h
VolumeFlow         = 191.31200413433552 = m3/hr
StdLiqVolumeFlow   = 162.63 = m3/hr
H                  = -287368.5548310887 = kJ/kmol
Energy             = -718421387.0777217 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.002143268167535129 = 
WATER              = 1.0 = 

>> 
>> 
>> #ignore kinetic and potential energy calcs
>> /pipe.In.T =
>> /pipe.In.P =
>> /pipe.In.H = -287368.56
>> /pipe.In
Port: /pipe.In + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = None
T                  = None
P                  = None
MoleFlow           = 9000.0 * kgmole/h
MassFlow           = 162137.52000000002 = kg/h
VolumeFlow         = None
StdLiqVolumeFlow   = 162.63 = m3/hr
H                  = -287368.56 * kJ/kmol
Energy             = -718421400.0 = W
MolecularWeight    = None
ZFactor            = None
WATER              = 1.0 * 

>> /pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = None
T                  = None
P                  = None
MoleFlow           = 9000.0 = kgmole/h
MassFlow           = 162137.52000000002 = kg/h
VolumeFlow         = None
StdLiqVolumeFlow   = 162.63 = m3/hr
H                  = None
Energy             = None
MolecularWeight    = None
ZFactor            = None
WATER              = 1.0 = 

>> 
>> /pipe.IgnoreKineticAndPotential = 1
>> #The enthalpy should be passed directly from the In to Out
>> /pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = None
T                  = None
P                  = None
MoleFlow           = 9000.0 = kgmole/h
MassFlow           = 162137.52000000002 = kg/h
VolumeFlow         = None
StdLiqVolumeFlow   = 162.63 = m3/hr
H                  = -287368.56 = kJ/kmol
Energy             = -718421400.0 = W
MolecularWeight    = None
ZFactor            = None
WATER              = 1.0 = 

>> 
>> #Solve
>> /pipe.In.P = 300
SolveMode_OutP ('/pipe',)
SolvingSection (1, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 0.052461
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 2 iterations
SolvingSection (2, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 0.057064
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 2 iterations
>> 
>> 
>> copy /pipe
Copied /pipe to the clipboard
>> paste /
Pasting /pipe
Pasted /pipe as /pipeClone
>> 
>> /pipeClone.In
Port: /pipeClone.In + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = None
T                  = None
P                  = 300.0 * kPa
MoleFlow           = 9000.0 * kgmole/h
MassFlow           = None
VolumeFlow         = None
StdLiqVolumeFlow   = None
H                  = -287368.56 * kJ/kmol
Energy             = None
MolecularWeight    = None
ZFactor            = None
WATER              = 1.0 * 

>> /pipeClone.Out
Port: /pipeClone.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = None
T                  = None
P                  = None
MoleFlow           = None
MassFlow           = None
VolumeFlow         = None
StdLiqVolumeFlow   = None
H                  = None
Energy             = None
MolecularWeight    = None
ZFactor            = None
WATER              = None

>> 
>> 
>> #Resolve
>> /pipe.In.H =
>> /pipe.In.T = 90
SolveMode_OutP ('/pipe',)
SolvingSection (1, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 0.010072
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 2 iterations
SolvingSection (2, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 0.010845
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 2 iterations
>> /pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 90.00791657176188 = C
P                  = 257.2348442714821 = kPa
MoleFlow           = 9000.0 = kgmole/h
MassFlow           = 162137.52000000002 = kg/h
VolumeFlow         = 200.72819440069296 = m3/hr
StdLiqVolumeFlow   = 162.63 = m3/hr
H                  = -282224.2269815576 = kJ/kmol
Energy             = -705560567.453894 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.001900054088515235 = 
WATER              = 1.0 = 

>> 
>> 
>> 
>> #Get rid of this
>> IgnoreKineticAndPotential = 0
SolveMode_OutP ('/pipeClone',)
SolvingSection (1, '/pipeClone')
Calculating Jacobian for /pipeClone.SolveForOutP
/pipeClone.SolveForOutP Iteration 1 Max Error 0.052461
Calculating Jacobian for /pipeClone.SolveForOutP
Converged /pipeClone.SolveForOutP in 2 iterations
SolvingSection (2, '/pipeClone')
Calculating Jacobian for /pipeClone.SolveForOutP
/pipeClone.SolveForOutP Iteration 1 Max Error 0.057064
Calculating Jacobian for /pipeClone.SolveForOutP
Converged /pipeClone.SolveForOutP in 2 iterations
SolveMode_OutP ('/pipe',)
SolvingSection (1, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 0.010072
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 2 iterations
SolvingSection (2, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 0.010845
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 2 iterations
>> 
>> 
>> # Remove energy - Doesn't work with 1.0e7, works fine with 1e6
>> # Difference in thermo likely accounts for this
>> /pipe.OutQ.Energy = 1.0e6
SolveMode_OutP ('/pipe',)
SolvingSection (1, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 1.171455
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 2 iterations
SolvingSection (2, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 1.168645
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 2 iterations
>> /pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 85.13629344962902 = C
P                  = 257.2997865054488 = kPa
MoleFlow           = 9000.0 = kgmole/h
MassFlow           = 162137.52000000002 = kg/h
VolumeFlow         = 199.88256162044385 = m3/hr
StdLiqVolumeFlow   = 162.63 = m3/hr
H                  = -282624.2257562614 = kJ/kmol
Energy             = -706560567.453894 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.00191825988011779 = 
WATER              = 1.0 = 

>> /pipe.Energy
[500000. 500000.]
>> /pipe.T
[363.15000679 360.7193894  358.28629285]
>> 
>> 
>> #Solve with T out as a spec
>> /pipe.In.MoleFlow =
>> /pipe.Out.T = 38
Calculating Jacobian for /pipe
Could not invert Jacobian in /pipe
>> /pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = None
T                  = 38.0 * C
P                  = None
MoleFlow           = None
MassFlow           = None
VolumeFlow         = None
StdLiqVolumeFlow   = None
H                  = None
Energy             = None
MolecularWeight    = None
ZFactor            = None
WATER              = 1.0 = 

>> 
>> 
>> #Did not work, solve with other numerical method
>> /pipe.SolutionMethod = Secant
Calculating Jacobian for /pipe
Calculating disturbance 10 of 12 in jacobian of /pipe
/pipe Iteration 1 Max Error 0.000992
Calculating Jacobian for /pipe
Calculating disturbance 10 of 12 in jacobian of /pipe
Converged /pipe in 2 iterations
>> /pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 38.0 * C
P                  = 299.39811141683845 = kPa
MoleFlow           = 849.1311532220229 = kgmole/h
MassFlow           = 15297.335482017646 = kg/h
VolumeFlow         = 18.186123033249146 = m3/hr
StdLiqVolumeFlow   = 15.343799938721954 = m3/hr
H                  = -286463.8547308405 = kJ/kmol
Energy             = -67568162.03445128 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.0024786226628374375 = 
WATER              = 1.0 = 

>> /pipe.Energy
[500000. 500000.]
>> /pipe.T
[363.15000679 337.23272087 311.15      ]
>> 
>> 
>> #Worked, now try again newton raphson but don't minimize error
>> /pipe.SolutionMethod = NewtonRaphson
Converged /pipe in 0 iterations
>> /pipe.MinimizeError = 0
Converged /pipe in 0 iterations
>> /pipe.TryLastConverged = 0
Calculating Jacobian for /pipe
/pipe Iteration 1 Max Error 0.000991
Calculating Jacobian for /pipe
/pipe Iteration 2 Max Error 0.000021
Calculating Jacobian for /pipe
/pipe Iteration 3 Max Error 0.000021
Calculating Jacobian for /pipe
/pipe Iteration 4 Max Error 0.000021
Calculating Jacobian for /pipe
/pipe Iteration 5 Max Error 0.000020
Calculating Jacobian for /pipe
/pipe Iteration 6 Max Error 0.000020
Calculating Jacobian for /pipe
/pipe Iteration 7 Max Error 0.000012
Calculating Jacobian for /pipe
Converged /pipe in 8 iterations
>> /pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 38.0 * C
P                  = 299.3981066404956 = kPa
MoleFlow           = 849.1339899245436 = kgmole/h
MassFlow           = 15297.386586007835 = kg/h
VolumeFlow         = 18.186185945382324 = m3/hr
StdLiqVolumeFlow   = 15.343851197936502 = m3/hr
H                  = -286463.84081635927 = kJ/kmol
Energy             = -67568384.47819568 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.002478621551456062 = 
WATER              = 1.0 = 

>> /pipe.Energy
[500000. 500000.]
>> /pipe.T
[363.15000679 337.23280839 311.15017147]
>> 
>> 
>> #Different solve scheme
>> /pipe.In.T =
>> /pipe.In.MoleFlow = 9000
Calculating Jacobian for /pipe
/pipe Iteration 1 Max Error 0.013436
Calculating Jacobian for /pipe
/pipe Iteration 2 Max Error 0.003238
Calculating Jacobian for /pipe
/pipe Iteration 3 Max Error 0.001584
Calculating Jacobian for /pipe
/pipe Iteration 4 Max Error 0.001556
Calculating Jacobian for /pipe
/pipe Iteration 5 Max Error 0.001492
Calculating Jacobian for /pipe
/pipe Iteration 6 Max Error 0.015146
Calculating Jacobian for /pipe
/pipe Iteration 7 Max Error 0.000184
Calculating Jacobian for /pipe
/pipe Iteration 8 Max Error 0.000052
Calculating Jacobian for /pipe
/pipe Iteration 9 Max Error 0.000051
Calculating Jacobian for /pipe
/pipe Iteration 10 Max Error 0.000018
Calculating Jacobian for /pipe
Converged /pipe in 11 iterations
>> /pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 38.0 * C
P                  = 253.56589052583996 = kPa
MoleFlow           = 9000.0 = kgmole/h
MassFlow           = 162137.52000000002 = kg/h
VolumeFlow         = 192.75726109134428 = m3/hr
StdLiqVolumeFlow   = 162.63 = m3/hr
H                  = -286464.58549672127 = kJ/kmol
Energy             = -716161463.7418032 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.0020992028124794393 = 
WATER              = 1.0 = 

>> /pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 38.0 * C
P                  = 253.56589052583996 = kPa
MoleFlow           = 9000.0 = kgmole/h
MassFlow           = 162137.52000000002 = kg/h
VolumeFlow         = 192.75726109134428 = m3/hr
StdLiqVolumeFlow   = 162.63 = m3/hr
H                  = -286464.58549672127 = kJ/kmol
Energy             = -716161463.7418032 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.0020992028124794393 = 
WATER              = 1.0 = 

>> /pipe.Energy
[500000. 500000.]
>> /pipe.T
[316.06920073 313.61002034 311.15048687]
>> 
>> 
>> #Flip specs around
>> /pipe.In.P =
>> /pipe.Out.T =
>> /pipe.Out.P = 150
>> /pipe.In.T = 90
Calculating Jacobian for /pipe
/pipe Iteration 1 Max Error 0.002708
Calculating Jacobian for /pipe
/pipe Iteration 2 Max Error 0.001319
Calculating Jacobian for /pipe
/pipe Iteration 3 Max Error 0.001294
Calculating Jacobian for /pipe
/pipe Iteration 4 Max Error 0.001165
Calculating Jacobian for /pipe
/pipe Iteration 5 Max Error 0.000138
Calculating Jacobian for /pipe
Converged /pipe in 6 iterations
>> /pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 85.1365669676548 = C
P                  = 150.0 * kPa
MoleFlow           = 9000.0 = kgmole/h
MassFlow           = 162137.52000000002 = kg/h
VolumeFlow         = 199.88728064619795 = m3/hr
StdLiqVolumeFlow   = 162.63 = m3/hr
H                  = -282625.8549329744 = kJ/kmol
Energy             = -706564637.332436 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.0011183279997477036 = 
WATER              = 1.0 = 

>> /pipe.Energy
[500000. 500000.]
>> /pipe.T
[363.15004605 360.71954797 358.28656697]
>> /pipe.u
[0.24954864 0.25944229]
>> 
>> 
>> #Change energy model
>> /pipe.EnergyLossModel = LinearTemperature
Calculating Jacobian for /pipe
/pipe Iteration 1 Max Error 0.002708
Calculating Jacobian for /pipe
/pipe Iteration 2 Max Error 0.001319
Calculating Jacobian for /pipe
/pipe Iteration 3 Max Error 0.001294
Calculating Jacobian for /pipe
/pipe Iteration 4 Max Error 0.001155
Calculating Jacobian for /pipe
/pipe Iteration 5 Max Error 0.000129
Calculating Jacobian for /pipe
Converged /pipe in 6 iterations
>> 
>> #Didn't finish. Add iterations
>> /pipe.MaxNumIterations = 50
Calculating Jacobian for /pipe
/pipe Iteration 1 Max Error 0.002708
Calculating Jacobian for /pipe
/pipe Iteration 2 Max Error 0.001319
Calculating Jacobian for /pipe
/pipe Iteration 3 Max Error 0.001294
Calculating Jacobian for /pipe
/pipe Iteration 4 Max Error 0.001155
Calculating Jacobian for /pipe
/pipe Iteration 5 Max Error 0.000129
Calculating Jacobian for /pipe
Converged /pipe in 6 iterations
>> /pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 85.1366169597797 = C
P                  = 150.0 * kPa
MoleFlow           = 9000.0 = kgmole/h
MassFlow           = 162137.52000000002 = kg/h
VolumeFlow         = 199.88728920786664 = m3/hr
StdLiqVolumeFlow   = 162.63 = m3/hr
H                  = -282625.85083227314 = kJ/kmol
Energy             = -706564627.0806828 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.0011183278916069297 = 
WATER              = 1.0 = 

>> /pipe.Energy
[500255.53304437 499744.46695563]
>> /pipe.T
[363.15009593 360.71835308 358.28661696]
>> 
>> 
>> #add sections
>> NumberSections = 5
SolveMode_OutP ('/pipeClone',)
SolvingSection (1, '/pipeClone')
Calculating Jacobian for /pipeClone.SolveForOutP
/pipeClone.SolveForOutP Iteration 1 Max Error 0.052461
Calculating Jacobian for /pipeClone.SolveForOutP
Converged /pipeClone.SolveForOutP in 2 iterations
SolvingSection (2, '/pipeClone')
Calculating Jacobian for /pipeClone.SolveForOutP
/pipeClone.SolveForOutP Iteration 1 Max Error 0.057064
Calculating Jacobian for /pipeClone.SolveForOutP
Converged /pipeClone.SolveForOutP in 2 iterations
Calculating Jacobian for /pipe
/pipe Iteration 1 Max Error 0.002708
Calculating Jacobian for /pipe
/pipe Iteration 2 Max Error 0.001319
Calculating Jacobian for /pipe
/pipe Iteration 3 Max Error 0.001294
Calculating Jacobian for /pipe
/pipe Iteration 4 Max Error 0.001155
Calculating Jacobian for /pipe
/pipe Iteration 5 Max Error 0.000129
Calculating Jacobian for /pipe
Converged /pipe in 6 iterations
>> /pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 85.1366169597797 = C
P                  = 150.0 * kPa
MoleFlow           = 9000.0 = kgmole/h
MassFlow           = 162137.52000000002 = kg/h
VolumeFlow         = 199.88728920786664 = m3/hr
StdLiqVolumeFlow   = 162.63 = m3/hr
H                  = -282625.85083227314 = kJ/kmol
Energy             = -706564627.0806828 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.0011183278916069297 = 
WATER              = 1.0 = 

>> /pipe.Energy
[500255.53304437 499744.46695563]
>> /pipe.T
[363.15009593 360.71835308 358.28661696]
>> 
>> 
>> #all u are equal
>> /pipe.EnergyLossModel = EqualU
Calculating Jacobian for /pipe
/pipe Iteration 1 Max Error 0.002708
Calculating Jacobian for /pipe
/pipe Iteration 2 Max Error 0.001319
Calculating Jacobian for /pipe
/pipe Iteration 3 Max Error 0.001295
Calculating Jacobian for /pipe
/pipe Iteration 4 Max Error 0.001271
Calculating Jacobian for /pipe
/pipe Iteration 5 Max Error 0.001004
Calculating Jacobian for /pipe
/pipe Iteration 6 Max Error 0.000042
Calculating Jacobian for /pipe
Converged /pipe in 7 iterations
>> /pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 85.13649675071298 = C
P                  = 150.0 * kPa
MoleFlow           = 9000.0 = kgmole/h
MassFlow           = 162137.52000000002 = kg/h
VolumeFlow         = 199.88726862012828 = m3/hr
StdLiqVolumeFlow   = 162.63 = m3/hr
H                  = -282625.8606927658 = kJ/kmol
Energy             = -706564651.7319145 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.001118328151634096 = 
WATER              = 1.0 = 

>> /pipe.Energy
[509719.96016237 490280.03983763]
>> /pipe.T
[363.14997578 360.67211945 358.28649675]
>> /pipe.u
[0.25449603 0.25449603]
>> 
>> #Try secant method
>> /pipe.SolutionMethod = Secant
Calculating Jacobian for /pipe
Calculating disturbance 10 of 12 in jacobian of /pipe
/pipe Iteration 1 Max Error 0.002812
Calculating Jacobian for /pipe
Calculating disturbance 10 of 12 in jacobian of /pipe
Converged /pipe in 2 iterations
>> /pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 85.13652101974719 = C
P                  = 150.0 * kPa
MoleFlow           = 9000.0 = kgmole/h
MassFlow           = 162137.52000000002 = kg/h
VolumeFlow         = 199.88727277667115 = m3/hr
StdLiqVolumeFlow   = 162.63 = m3/hr
H                  = -282625.8587020793 = kJ/kmol
Energy             = -706564646.7551982 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.0011183280991375888 = 
WATER              = 1.0 = 

>> /pipe.Energy
[509719.94155791 490280.05844209]
>> /pipe.T
[363.15       360.67214378 358.28652102]
>> /pipe.u
[0.25449226 0.25449226]
>> 
>> 
>> #Now solve for energy
>> /pipe.OutQ.Energy =
>> /pipe.Out.T = 38
Calculating Jacobian for /pipe
Calculating disturbance 10 of 12 in jacobian of /pipe
/pipe Iteration 1 Max Error 0.084702
Calculating Jacobian for /pipe
Calculating disturbance 10 of 12 in jacobian of /pipe
/pipe Iteration 2 Max Error 0.000636
Calculating Jacobian for /pipe
Calculating disturbance 10 of 12 in jacobian of /pipe
Converged /pipe in 3 iterations
>> /pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 38.0 * C
P                  = 150.0 * kPa
MoleFlow           = 9000.0 = kgmole/h
MassFlow           = 162137.52000000002 = kg/h
VolumeFlow         = 192.75994563855176 = m3/hr
StdLiqVolumeFlow   = 162.63 = m3/hr
H                  = -286466.36537469574 = kJ/kmol
Energy             = -716165913.4367393 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.0012418283046685128 = 
WATER              = 1.0 = 

>> /pipe.Energy
[7324644.81875204 3276651.23815864]
>> /pipe.T
[363.15       327.28383283 311.15000192]
>> /pipe.u
[5.216627 5.216627]
>> 
>> 
>> #Change numerical method
>> /pipe.SolutionMethod = NewtonRaphson
Calculating Jacobian for /pipe
/pipe Iteration 1 Max Error 0.083760
Calculating Jacobian for /pipe
/pipe Iteration 2 Max Error 0.014209
Calculating Jacobian for /pipe
/pipe Iteration 3 Max Error 0.001314
Calculating Jacobian for /pipe
/pipe Iteration 4 Max Error 0.001291
Calculating Jacobian for /pipe
/pipe Iteration 5 Max Error 0.001051
Calculating Jacobian for /pipe
/pipe Iteration 6 Max Error 0.000058
Calculating Jacobian for /pipe
Converged /pipe in 7 iterations
>> /pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 38.0 * C
P                  = 150.0 * kPa
MoleFlow           = 9000.0 = kgmole/h
MassFlow           = 162137.52000000002 = kg/h
VolumeFlow         = 192.75994563855176 = m3/hr
StdLiqVolumeFlow   = 162.63 = m3/hr
H                  = -286466.36537469574 = kJ/kmol
Energy             = -716165913.4367393 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.0012418283046685128 = 
WATER              = 1.0 = 

>> 
>> /pipe.EnergyLossModel = LinearTemperature
Calculating Jacobian for /pipe
/pipe Iteration 1 Max Error 0.001355
Calculating Jacobian for /pipe
/pipe Iteration 2 Max Error 0.001330
Calculating Jacobian for /pipe
/pipe Iteration 3 Max Error 0.000884
Calculating Jacobian for /pipe
Converged /pipe in 4 iterations
>> /pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 38.0 * C
P                  = 150.0 * kPa
MoleFlow           = 9000.0 = kgmole/h
MassFlow           = 162137.52000000002 = kg/h
VolumeFlow         = 192.75994563855176 = m3/hr
StdLiqVolumeFlow   = 162.63 = m3/hr
H                  = -286466.36537469574 = kJ/kmol
Energy             = -716165913.4367393 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.0012418283046685128 = 
WATER              = 1.0 = 

>> /pipe.T
[363.14965263 337.14959772 311.15000192]
>> 
>> /pipe.EnergyLossModel = LinearEnergy
Calculating Jacobian for /pipe
/pipe Iteration 1 Max Error 0.001355
Calculating Jacobian for /pipe
/pipe Iteration 2 Max Error 0.001330
Calculating Jacobian for /pipe
/pipe Iteration 3 Max Error 0.001089
Calculating Jacobian for /pipe
Converged /pipe in 4 iterations
>> /pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 38.0 * C
P                  = 150.0 * kPa
MoleFlow           = 9000.0 = kgmole/h
MassFlow           = 162137.52000000002 = kg/h
VolumeFlow         = 192.75994563855176 = m3/hr
StdLiqVolumeFlow   = 162.63 = m3/hr
H                  = -286466.36537469574 = kJ/kmol
Energy             = -716165913.4367393 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.0012418283046685128 = 
WATER              = 1.0 = 

>> /pipe.Energy
[5300551.03962048 5300551.03962048]
>> 
>> 
>> /pipe.Out.P =
>> /pipe.In.P = 300
Calculating Jacobian for /pipe
/pipe Iteration 1 Max Error 0.003157
Calculating Jacobian for /pipe
/pipe Iteration 2 Max Error 0.001490
Calculating Jacobian for /pipe
/pipe Iteration 3 Max Error 0.001442
Calculating Jacobian for /pipe
/pipe Iteration 4 Max Error 0.000223
Calculating Jacobian for /pipe
Converged /pipe in 5 iterations
>> /pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 38.0 * C
P                  = 256.9495772404469 = kPa
MoleFlow           = 9000.0 = kgmole/h
MassFlow           = 162137.52000000002 = kg/h
VolumeFlow         = 192.75719438656606 = m3/hr
StdLiqVolumeFlow   = 162.63 = m3/hr
H                  = -286464.514567259 = kJ/kmol
Energy             = -716161286.4181474 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.0021272135106168433 = 
WATER              = 1.0 = 

>> 
>> 
>> #Now spec u and change the energy models (nothing should change since u as a spec implies all u equal)
>> /pipe.Out.T =
>> /pipe.U.U = 4.8846261
Calculating Jacobian for /pipe
/pipe Iteration 1 Max Error 0.986957
Calculating Jacobian for /pipe
/pipe Iteration 2 Max Error 0.579716
Calculating Jacobian for /pipe
/pipe Iteration 3 Max Error 0.573048
Calculating Jacobian for /pipe
/pipe Iteration 4 Max Error 0.476328
Calculating Jacobian for /pipe
/pipe Iteration 5 Max Error 0.274286
Calculating Jacobian for /pipe
/pipe Iteration 6 Max Error 0.169832
Calculating Jacobian for /pipe
/pipe Iteration 7 Max Error 0.092893
Calculating Jacobian for /pipe
/pipe Iteration 8 Max Error 0.052390
Calculating Jacobian for /pipe
/pipe Iteration 9 Max Error 0.028347
Calculating Jacobian for /pipe
/pipe Iteration 10 Max Error 0.015430
Calculating Jacobian for /pipe
/pipe Iteration 11 Max Error 0.008261
Calculating Jacobian for /pipe
/pipe Iteration 12 Max Error 0.004414
Calculating Jacobian for /pipe
/pipe Iteration 13 Max Error 0.002340
Calculating Jacobian for /pipe
/pipe Iteration 14 Max Error 0.001236
Calculating Jacobian for /pipe
/pipe Iteration 15 Max Error 0.000650
Calculating Jacobian for /pipe
/pipe Iteration 16 Max Error 0.000340
Calculating Jacobian for /pipe
/pipe Iteration 17 Max Error 0.000178
Calculating Jacobian for /pipe
/pipe Iteration 18 Max Error 0.000092
Calculating Jacobian for /pipe
/pipe Iteration 19 Max Error 0.000048
Calculating Jacobian for /pipe
/pipe Iteration 20 Max Error 0.000025
Calculating Jacobian for /pipe
/pipe Iteration 21 Max Error 0.000013
Calculating Jacobian for /pipe
Converged /pipe in 22 iterations
>> /pipe.u
[4.8846261 4.8846261]
>> /pipe.EnergyLossModel = LinearTemperature
Calculating Jacobian for /pipe
/pipe Iteration 1 Max Error 0.986957
Calculating Jacobian for /pipe
/pipe Iteration 2 Max Error 0.579716
Calculating Jacobian for /pipe
/pipe Iteration 3 Max Error 0.573048
Calculating Jacobian for /pipe
/pipe Iteration 4 Max Error 0.476328
Calculating Jacobian for /pipe
/pipe Iteration 5 Max Error 0.274286
Calculating Jacobian for /pipe
/pipe Iteration 6 Max Error 0.169832
Calculating Jacobian for /pipe
/pipe Iteration 7 Max Error 0.092893
Calculating Jacobian for /pipe
/pipe Iteration 8 Max Error 0.052390
Calculating Jacobian for /pipe
/pipe Iteration 9 Max Error 0.028347
Calculating Jacobian for /pipe
/pipe Iteration 10 Max Error 0.015430
Calculating Jacobian for /pipe
/pipe Iteration 11 Max Error 0.008261
Calculating Jacobian for /pipe
/pipe Iteration 12 Max Error 0.004414
Calculating Jacobian for /pipe
/pipe Iteration 13 Max Error 0.002340
Calculating Jacobian for /pipe
/pipe Iteration 14 Max Error 0.001236
Calculating Jacobian for /pipe
/pipe Iteration 15 Max Error 0.000650
Calculating Jacobian for /pipe
/pipe Iteration 16 Max Error 0.000340
Calculating Jacobian for /pipe
/pipe Iteration 17 Max Error 0.000178
Calculating Jacobian for /pipe
/pipe Iteration 18 Max Error 0.000092
Calculating Jacobian for /pipe
/pipe Iteration 19 Max Error 0.000048
Calculating Jacobian for /pipe
/pipe Iteration 20 Max Error 0.000025
Calculating Jacobian for /pipe
/pipe Iteration 21 Max Error 0.000013
Calculating Jacobian for /pipe
Converged /pipe in 22 iterations
>> /pipe.u
[4.8846261 4.8846261]
>> /pipe.EnergyLossModel = LinearEnergy
Calculating Jacobian for /pipe
/pipe Iteration 1 Max Error 0.986957
Calculating Jacobian for /pipe
/pipe Iteration 2 Max Error 0.579716
Calculating Jacobian for /pipe
/pipe Iteration 3 Max Error 0.573048
Calculating Jacobian for /pipe
/pipe Iteration 4 Max Error 0.476328
Calculating Jacobian for /pipe
/pipe Iteration 5 Max Error 0.274286
Calculating Jacobian for /pipe
/pipe Iteration 6 Max Error 0.169832
Calculating Jacobian for /pipe
/pipe Iteration 7 Max Error 0.092893
Calculating Jacobian for /pipe
/pipe Iteration 8 Max Error 0.052390
Calculating Jacobian for /pipe
/pipe Iteration 9 Max Error 0.028347
Calculating Jacobian for /pipe
/pipe Iteration 10 Max Error 0.015430
Calculating Jacobian for /pipe
/pipe Iteration 11 Max Error 0.008261
Calculating Jacobian for /pipe
/pipe Iteration 12 Max Error 0.004414
Calculating Jacobian for /pipe
/pipe Iteration 13 Max Error 0.002340
Calculating Jacobian for /pipe
/pipe Iteration 14 Max Error 0.001236
Calculating Jacobian for /pipe
/pipe Iteration 15 Max Error 0.000650
Calculating Jacobian for /pipe
/pipe Iteration 16 Max Error 0.000340
Calculating Jacobian for /pipe
/pipe Iteration 17 Max Error 0.000178
Calculating Jacobian for /pipe
/pipe Iteration 18 Max Error 0.000092
Calculating Jacobian for /pipe
/pipe Iteration 19 Max Error 0.000048
Calculating Jacobian for /pipe
/pipe Iteration 20 Max Error 0.000025
Calculating Jacobian for /pipe
/pipe Iteration 21 Max Error 0.000013
Calculating Jacobian for /pipe
Converged /pipe in 22 iterations
>> /pipe.u
[4.8846261 4.8846261]
>> 
>> 
>> #Back to energy spec but change nergy models
>> /pipe.U.U =
>> /pipe.OutQ.Energy = 9931444.4
SolveMode_OutP ('/pipe',)
SolvingSection (1, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 9.379058
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 2 Max Error 0.000029
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 3 iterations
SolvingSection (2, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 7.448945
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 2 Max Error 0.000097
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 3 iterations
>> /pipe.Out
Port: /pipe.Out + sim21.old.solver.Ports.Port_Material
Connected to: None
VapFrac            = 0.0 = 
T                  = 41.29920423828071 = C
P                  = 257.04480465820467 = kPa
MoleFlow           = 9000.0 = kgmole/h
MassFlow           = 162137.52000000002 = kg/h
VolumeFlow         = 193.20082291071498 = m3/hr
StdLiqVolumeFlow   = 162.63 = m3/hr
H                  = -286196.8039395461 = kJ/kmol
Energy             = -715492011.853894 = W
MolecularWeight    = 18.01528 = 
ZFactor            = 0.002110525519398887 = 
WATER              = 1.0 = 

>> /pipe.Energy
[4965722.2 4965722.2]
>> /pipe.T
[363.15000679 338.87556351 314.4492024 ]
>> /pipe.u
[3.04434619 5.92578475]
>> 
>> 
>> /pipe.SolutionMethod = Secant
SolveMode_OutP ('/pipe',)
SolvingSection (1, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 9.379058
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 2 Max Error 0.000029
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 3 iterations
SolvingSection (2, '/pipe')
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 1 Max Error 7.448945
Calculating Jacobian for /pipe.SolveForOutP
/pipe.SolveForOutP Iteration 2 Max Error 0.000097
Calculating Jacobian for /pipe.SolveForOutP
Converged /pipe.SolveForOutP in 3 iterations
>> /pipe.EnergyLossModel = LinearTemperature
Calculating Jacobian for /pipe
Calculating disturbance 10 of 12 in jacobian of /pipe
/pipe Iteration 1 Max Error 0.292797
Calculating Jacobian for /pipe
Calculating disturbance 10 of 12 in jacobian of /pipe
/pipe Iteration 2 Max Error 0.000311
Calculating Jacobian for /pipe
Calculating disturbance 10 of 12 in jacobian of /pipe
Converged /pipe in 3 iterations
>> /pipe.T
[363.15000679 338.79960085 314.44919491]
>> 
>> 
>> /pipe.EnergyLossModel = EqualU
Calculating Jacobian for /pipe
Calculating disturbance 10 of 12 in jacobian of /pipe
/pipe Iteration 1 Max Error 0.292796
Calculating Jacobian for /pipe
Calculating disturbance 10 of 12 in jacobian of /pipe
/pipe Iteration 2 Max Error 0.029473
Calculating Jacobian for /pipe
Calculating disturbance 10 of 12 in jacobian of /pipe
/pipe Iteration 3 Max Error 0.000059
Calculating Jacobian for /pipe
Calculating disturbance 10 of 12 in jacobian of /pipe
Converged /pipe in 4 iterations
>> /pipe.SolutionMethod = NewtonRaphson
Calculating Jacobian for /pipe
/pipe Iteration 1 Max Error 0.292795
Calculating Jacobian for /pipe
/pipe Iteration 2 Max Error 0.060464
Calculating Jacobian for /pipe
/pipe Iteration 3 Max Error 0.002380
Calculating Jacobian for /pipe
/pipe Iteration 4 Max Error 0.000091
Calculating Jacobian for /pipe
Converged /pipe in 5 iterations
>> /pipe.T
[363.15000679 330.76238449 314.44926161]
>> /pipe.u
[4.48534325 4.48534325]
>> 
>> 
>> 
>> 
>> 
>> 
>> 
